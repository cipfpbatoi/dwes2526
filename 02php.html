
<!doctype html>
<html lang="ca" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cipfpbatoi.github.io/dwes2526/02php.html">
      
      
        <link rel="prev" href="01arquitecturas.html">
      
      
        <link rel="next" href="03MVC_Laravel.html">
      
      
      <link rel="icon" href="imagenes/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>2.- Programació web amb PHP - Desenvolupament web en entorn de Servidor</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-X6D0LR7TC8"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-X6D0LR7TC8",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-X6D0LR7TC8",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="Teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sa2-programacio-web-amb-php" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Capçalera">
    <a href="index.html" title="Desenvolupament web en entorn de Servidor" class="md-header__button md-logo" aria-label="Desenvolupament web en entorn de Servidor" data-md-component="logo">
      
  <img src="imagenes/logofp.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desenvolupament web en entorn de Servidor
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2.- Programació web amb PHP
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="Teal"  aria-label="Canviar a mode nit"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Canviar a mode nit" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="Teal"  aria-label="Canviar a mode dia"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Canviar a mode dia" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegació" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Desenvolupament web en entorn de Servidor" class="md-nav__button md-logo" aria-label="Desenvolupament web en entorn de Servidor" data-md-component="logo">
      
  <img src="imagenes/logofp.png" alt="logo">

    </a>
    Desenvolupament web en entorn de Servidor
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="01arquitecturas.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.- Arquitectures Web
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    2.- Programació web amb PHP
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="02php.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    2.- Programació web amb PHP
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sa21introduccio-a-php" class="md-nav__link">
    <span class="md-ellipsis">
      SA2.1.Introducció a PHP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SA2.1.Introducció a PHP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#llenguatges-imbricats-en-html" class="md-nav__link">
    <span class="md-ellipsis">
      🌐 Llenguatges imbricats en HTML
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etiquetes-per-a-insercio-de-codi" class="md-nav__link">
    <span class="md-ellipsis">
      🏷️ Etiquetes per a inserció de codi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipus-de-dades-conversions-entre-tipus-de-dades" class="md-nav__link">
    <span class="md-ellipsis">
      🔢 Tipus de dades. Conversions entre tipus de dades
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constants" class="md-nav__link">
    <span class="md-ellipsis">
      🛑 Constants
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables-operadors-ambits-de-les-variables" class="md-nav__link">
    <span class="md-ellipsis">
      📦 Variables. Operadors. Àmbits de les variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcions" class="md-nav__link">
    <span class="md-ellipsis">
      🛠️ Funcions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directives-per-a-modificar-el-comportament-predeterminat-del-codi" class="md-nav__link">
    <span class="md-ellipsis">
      ⚙️ Directives per a modificar el comportament predeterminat del codi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mecanismes-de-decisio-if-match" class="md-nav__link">
    <span class="md-ellipsis">
      🔀 Mecanismes de decisió (if, match)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucles-for-while-foreach" class="md-nav__link">
    <span class="md-ellipsis">
      🔄 Bucles (for, while, foreach)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrays" class="md-nav__link">
    <span class="md-ellipsis">
      📚 Arrays
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrays-associatius" class="md-nav__link">
    <span class="md-ellipsis">
      🗂️ Arrays associatius
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#com-utilitzar-les-cometes-en-php" class="md-nav__link">
    <span class="md-ellipsis">
      📝 Com utilitzar les cometes en PHP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comentaris-en-el-codi" class="md-nav__link">
    <span class="md-ellipsis">
      💬 Comentaris en el codi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables-de-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      🖥️ Variables de servidor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formularis" class="md-nav__link">
    <span class="md-ellipsis">
      📋 Formularis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sa22-mecanismes-per-al-manteniment-de-la-informacio-en-aplicacions-web" class="md-nav__link">
    <span class="md-ellipsis">
      SA2.2 Mecanismes per al Manteniment de la Informació en Aplicacions Web
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SA2.2 Mecanismes per al Manteniment de la Informació en Aplicacions Web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fonaments" class="md-nav__link">
    <span class="md-ellipsis">
      📖 Fonaments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookies_1" class="md-nav__link">
    <span class="md-ellipsis">
      🍪 Cookies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessions_1" class="md-nav__link">
    <span class="md-ellipsis">
      🔑 Sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serialitzacio-en-php" class="md-nav__link">
    <span class="md-ellipsis">
      📦➡️📄 Serialització en PHP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autenticacio-dusuaris" class="md-nav__link">
    <span class="md-ellipsis">
      👤✔️ Autenticació d'usuaris
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sa23-poo" class="md-nav__link">
    <span class="md-ellipsis">
      SA2.3 POO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SA2.3 POO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduccio-de-la-poo-en-php" class="md-nav__link">
    <span class="md-ellipsis">
      🐘 Introducció de la POO en php
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#principis-de-la-poo" class="md-nav__link">
    <span class="md-ellipsis">
      📐 Principis de la POO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#espai-de-noms" class="md-nav__link">
    <span class="md-ellipsis">
      🗺️ Espai de noms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestio-de-dates-i-hores-amb-carbon" class="md-nav__link">
    <span class="md-ellipsis">
      📅 Gestió de dates i hores amb Carbon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestio-dexempcions" class="md-nav__link">
    <span class="md-ellipsis">
      🚫 Gestió d'Exempcions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logger-amb-monolog" class="md-nav__link">
    <span class="md-ellipsis">
      📜 Logger amb Monolog
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annex-acces-a-fitxers" class="md-nav__link">
    <span class="md-ellipsis">
      📎 Annex: Accés a fitxers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📎 Annex: Accés a fitxers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#funcions-basiques-de-php-per-a-fitxers" class="md-nav__link">
    <span class="md-ellipsis">
      📄 Funcions bàsiques de PHP per a fitxers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modes-dobertura-de-fitxers" class="md-nav__link">
    <span class="md-ellipsis">
      🔓 Modes d'obertura de fitxers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#llegir-fitxer-linia-a-linia" class="md-nav__link">
    <span class="md-ellipsis">
      📄 Llegir fitxer línia a línia
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#escriure-multiples-linies" class="md-nav__link">
    <span class="md-ellipsis">
      ✍️ Escriure múltiples línies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestio-de-directoris" class="md-nav__link">
    <span class="md-ellipsis">
      📁 Gestió de directoris
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercicis" class="md-nav__link">
    <span class="md-ellipsis">
      Exercicis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercicis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bateria-dexercicis-solucionats-per-a-la-unitat-de-php" class="md-nav__link">
    <span class="md-ellipsis">
      🧩 Bateria d'Exercicis Solucionats per a la Unitat de PHP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projecte-el-penjat" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Projecte "El penjat"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercicis-proposats" class="md-nav__link">
    <span class="md-ellipsis">
      📝 Exercicis proposats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autoavaluacio" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Autoavaluació
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="03MVC_Laravel.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.- Arquitectura MVC amb Laravel
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="04dades_Laravel.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.- Accés segur i estructurat a bases de dades amb Laravel
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="05seguretat_Laravel.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.- Aplicacions segures i reactives en Laravel
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="06Nodejs.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.- Desenvolupament d'APIs REST amb Node.js
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="sa2-programacio-web-amb-php">SA2. Programació web amb PHP<a class="headerlink" href="#sa2-programacio-web-amb-php" title="Permanent link">&para;</a></h1>
<details class="abstract">
<summary>Duració i criteris d'avaluació</summary>
</details>
<p>Duració estimada: 30 hores</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>&lt;hr /&gt;
<span class="linenos" data-linenos="2 "></span>
<span class="linenos" data-linenos="3 "></span>| Resultat d&#39;aprenentatge | Criteris d&#39;avaluació|
<span class="linenos" data-linenos="4 "></span>| -------                 | -------             |
<span class="linenos" data-linenos="5 "></span>| 2. Escriu sentències executables per un servidor Web reconeixent i aplicant procediments d&#39;integració del codi en llenguatges de marques. | a) S&#39;han reconegut els mecanismes de generació de pàgines Web a partir de llenguatges de marques amb codi embegut. &lt;br/&gt; b) S&#39;han identificat les principals tecnologies associades.  &lt;br/&gt; c) S&#39;han utilitzat etiquetes per a la inclusió de codi en el llenguatge de marques.  &lt;br/&gt; d) S&#39;ha reconegut la sintaxi del llenguatge de programació que s&#39;ha d&#39;utilitzar.  &lt;br/&gt; e) S&#39;han escrit sentències simples i s&#39;ha comprovat els seus efectes en el document resultant.  &lt;br/&gt; f) S&#39;han utilitzat directives per a modificar el comportament predeterminat.  &lt;br/&gt; g) S&#39;han utilitzat els diferents tipus de variables i operadors disponibles en el llenguatge.  &lt;br/&gt; h) S&#39;han identificat els àmbits d&#39;utilització de les variables.  &lt;br/&gt; |
<span class="linenos" data-linenos="6 "></span>| 3. Genera pàgines web de forma dinàmica seguint especificacions rebudes. | a) S&#39;han identificat els mecanismes de separació de la lògica de negoci.&lt;br/&gt;b) S&#39;han utilitzat tecnologies adequades per a la generació dinàmica de pàgines web.&lt;br/&gt;c) S&#39;han utilitzat tècniques d&#39;accés a dades.&lt;br/&gt;d) S&#39;han generat pàgines web dinàmiques que compleixen amb les especificacions rebudes.&lt;br/&gt;e) S&#39;ha comprovat el funcionament de les pàgines web generades.&lt;br/&gt;f) S&#39;han seguit les convencions de format i codificació establertes. |
<span class="linenos" data-linenos="7 "></span>| 4. Desenvolupa aplicacions Web embegudes en llenguatges de marques analitzant i incorporant funcionalitats segons especificacions | a) S&#39;han identificat els mecanismes disponibles per al manteniment de la informació que concerneix un client web concret i s&#39;han assenyalat els seus avantatges.&lt;br /&gt; b) S&#39;han utilitzat mecanismes per a mantindre l&#39;estat de les aplicacions web.&lt;br /&gt; c) S&#39;han utilitzat mecanismes per a emmagatzemar informació en el client web i per a recuperar el seu contingut.&lt;br /&gt; d) S&#39;han identificat i caracteritzat els mecanismes disponibles per a l&#39;autenticació d&#39;usuaris.&lt;br /&gt; e) S&#39;han escrit aplicacions que integren mecanismes d&#39;autenticació d&#39;usuaris.&lt;br /&gt; f) S&#39;han utilitzat eines i entorns per a facilitar la programació, prova i depuració del codi. |
</code></pre></div>
<h2 id="sa21introduccio-a-php">SA2.1.Introducció a PHP<a class="headerlink" href="#sa21introduccio-a-php" title="Permanent link">&para;</a></h2>
<h4 id="que-es-php">🐘 Què és PHP?<a class="headerlink" href="#que-es-php" title="Permanent link">&para;</a></h4>
<p><strong>PHP</strong> (Hypertext Preprocessor) és un llenguatge de programació de codi obert, especialment dissenyat per al desenvolupament web del costat del servidor. Es pot incrustar fàcilment en codi HTML, cosa que el fa una opció popular per crear aplicacions web dinàmiques i interactives. PHP s'utilitza per gestionar el contingut dinàmic, les bases de dades, el seguiment de sessions i fins i tot per crear aplicacions completes.</p>
<h4 id="importancia-en-el-desenvolupament-web">Importància en el desenvolupament web<a class="headerlink" href="#importancia-en-el-desenvolupament-web" title="Permanent link">&para;</a></h4>
<p>PHP és un dels llenguatges més utilitzats en el desenvolupament web per diverses raons:</p>
<ul>
<li><strong>Facilitat d'aprenentatge:</strong> PHP és relativament fàcil d'aprendre per als principiants en programació web. La seva sintaxi és senzilla i similar a altres llenguatges com C i Perl.</li>
<li><strong>Gran comunitat i suport:</strong> PHP té una gran comunitat de desenvolupadors que proporcionen suport, biblioteques, extensions i eines. A més, hi ha nombrosos recursos en línia, tutorials i documentació.</li>
<li><strong>Integració amb bases de dades:</strong> PHP es pot integrar fàcilment amb una àmplia varietat de bases de dades, cosa que el fa ideal per a aplicacions web basades en dades.</li>
<li><strong>Flexibilitat i escalabilitat:</strong> PHP és altament flexible i es pot utilitzar per desenvolupar tant aplicacions petites com projectes grans i complexos. També és escalable, cosa que permet gestionar un gran volum de trànsit.</li>
<li><strong>Cost efectiu:</strong> Com que és de codi obert, PHP és gratuït per utilitzar i distribuir. Això redueix els costos de desenvolupament per a les empreses i els desenvolupadors.</li>
</ul>
<h3 id="llenguatges-imbricats-en-html">🌐 Llenguatges imbricats en HTML<a class="headerlink" href="#llenguatges-imbricats-en-html" title="Permanent link">&para;</a></h3>
<p>PHP permet incrustar codi dins de documents HTML, permetent la generació de contingut dinàmic. El codi PHP es delimita amb <code>&lt;?php ... ?&gt;</code>.
És comú utilitzar codi PHP dins de HTML per generar contingut dinàmic. També es pot incloure HTML dins de fitxers PHP.
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">&lt;html&gt;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">&lt;body&gt;</span>
<span class="linenos" data-linenos="4 "></span><span class="x">    &lt;h1&gt;Benvingut a la meva web&lt;/h1&gt;</span>
<span class="linenos" data-linenos="5 "></span><span class="x">    &lt;p&gt;La data d&#39;avui és: </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="linenos" data-linenos="6 "></span><span class="x">&lt;/body&gt;</span>
<span class="linenos" data-linenos="7 "></span><span class="x">&lt;/html&gt;</span>
</code></pre></div>
El codi HTML pot ser generat dins d'instruccions PHP.
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">echo</span> <span class="s2">&quot;&lt;html&gt;&lt;body&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="3 "></span><span class="k">echo</span> <span class="s2">&quot;&lt;h1&gt;Benvingut a la meva web&lt;/h1&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span><span class="k">echo</span> <span class="s2">&quot;&lt;p&gt;La data d&#39;avui és: &quot;</span> <span class="o">.</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;&lt;/p&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span><span class="k">echo</span> <span class="s2">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="cp">?&gt;</span>
</code></pre></div></p>
<div class="admonition tip">
<p class="admonition-title">Només etiquetes d'obertura</p>
<p>Si el nostre codi només contindrà codi PHP i res d'html, com per exemple, quan codifiquem classes o interfícies, només posarem l'etiqueta d'obertura, per a així indicar que és una arxiu de php pur.</p>
</div>
<h3 id="etiquetes-per-a-insercio-de-codi">🏷️ Etiquetes per a inserció de codi<a class="headerlink" href="#etiquetes-per-a-insercio-de-codi" title="Permanent link">&para;</a></h3>
<p>Per inserir codi PHP dins de HTML, utilitzem les etiquetes:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="c1">// Codi PHP aquí</span>
<span class="linenos" data-linenos="3 "></span><span class="cp">?&gt;</span>
</code></pre></div>
Per imprimir directament:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$variable</span> <span class="cp">?&gt;</span>
</code></pre></div>
Exemple:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">&lt;html&gt;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">&lt;body&gt;</span>
<span class="linenos" data-linenos="4 "></span><span class="x">    &lt;h1&gt;Benvingut a la meva web&lt;/h1&gt;</span>
<span class="linenos" data-linenos="5 "></span><span class="x">    &lt;p&gt;La data d&#39;avui és: </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="linenos" data-linenos="6 "></span><span class="x">&lt;/body&gt;</span>
<span class="linenos" data-linenos="7 "></span><span class="x">&lt;/html&gt;</span>
</code></pre></div></p>
<h3 id="tipus-de-dades-conversions-entre-tipus-de-dades">🔢 Tipus de dades. Conversions entre tipus de dades<a class="headerlink" href="#tipus-de-dades-conversions-entre-tipus-de-dades" title="Permanent link">&para;</a></h3>
<p>PHP té diversos tipus de dades: enter, flotant, cadena, booleà, matriu, objecte, nul.
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$enter = 10; // Enter</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$flotant = 3.14; // Flotant</span>
<span class="linenos" data-linenos="3 "></span><span class="x">$cadena = &quot;Hola, món!&quot;; // Cadena</span>
<span class="linenos" data-linenos="4 "></span><span class="x">$boolea = true; // Booleà</span>
<span class="linenos" data-linenos="5 "></span><span class="x">$matriu = array(1, 2, 3); // Matriu</span>
<span class="linenos" data-linenos="6 "></span><span class="x">$objecte = new stdClass(); // Objecte</span>
<span class="linenos" data-linenos="7 "></span><span class="x">$nul = null; // Nul</span>
</code></pre></div>
Conversions:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$integer = (int) $variable;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$float = (float) $variable;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">$string = (string) $variable;</span>
</code></pre></div>
Exemple:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$cadena = &quot;123&quot;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$enter = (int)$cadena; // Converteix la cadena &quot;123&quot; a l&#39;enter 123</span>
</code></pre></div></p>
<h3 id="constants">🛑 Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h3>
<p>Són variables el valor dels quals no varien. Existeixen dues possibilitats:</p>
<ul>
<li><code>define(NOMBRE, valor);</code></li>
<li><code>const NOMBRE; // PHP &gt; 5.3</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">define</span><span class="p">(</span><span class="s2">&quot;PI&quot;</span><span class="p">,</span> <span class="mf">3.1416</span><span class="p">);</span>
<span class="linenos" data-linenos="3 "></span><span class="k">const</span> <span class="no">IVA</span> <span class="o">=</span> <span class="mf">0.21</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span>
<span class="linenos" data-linenos="5 "></span><span class="k">echo</span> <span class="nx">PI</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="nx">IVA</span><span class="p">;</span> <span class="c1">// No se pone el símbolo dolar</span>
</code></pre></div>
<ul>
<li>Es declaren sempre en MAJÚSCULES</li>
<li>Hi ha un conjunt de constants ja predefinides, també conegudes com <em>magic constants</em>: <a href="https://www.php.net/manual/es/language.constants.predefined.php">https://www.php.net/manual/es/language.constants.predefined.php</a></li>
</ul>
<h3 id="variables-operadors-ambits-de-les-variables">📦 Variables. Operadors.  Àmbits de les variables<a class="headerlink" href="#variables-operadors-ambits-de-les-variables" title="Permanent link">&para;</a></h3>
<ul>
<li>No és necessari declarar-les prèviament.</li>
<li>Comencen per <code>$</code>, per exemple <code>$nom</code>. Després del <code>$</code>, el següent caràcter ha de ser una lletra en minúscula (recomanació) o guió baix <code>_</code>. Després ja es poden posar números.</li>
<li>Són case <em>sensitive</em>: <code>$*var != $*vAR</code></li>
<li>No es declara el seu tipus, el tipat és dinàmic. S'assigna en temps d'execució depenent del valor assignat.</li>
<li>Convenient inicialitzar-les, sinó donen error a l'utilitzar-les.
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$variable = &quot;valor&quot;;</span>
</code></pre></div>
Operadors:</li>
<li>Aritmètics: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code></li>
<li>Assignació: <code>=</code>, <code>+=</code>, <code>-=</code></li>
<li>Comparació: <code>==</code>, <code>===</code>, <code>!=</code></li>
<li>Lògics: <code>&amp;&amp;</code>, <code>||</code>, <code>!</code></li>
<li>Concatenació: <code>.</code></li>
</ul>
<p>Els àmbits d'utilització d'una variable són:</p>
<ul>
<li>Local: dins d'una funció.</li>
<li>Global: fora de qualsevol funció.</li>
<li>Estàtic: persisteixen el seu valor entre crides a la funció.</li>
</ul>
<p>Exemple:</p>
<p>Assignacions
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$x = 5;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$y = &quot;Hola món&quot;;</span>
</code></pre></div>
Operacions aritmètiques
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$suma = $x + 10;  // Resulta en 15</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$producte = $x * 2;  // Resulta en 10</span>
</code></pre></div>
Operacions d'entrada i eixida:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">echo &quot;Hola, món!&quot;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">print &quot;Hola, món!&quot;;</span>
</code></pre></div>
Operacions amb cadenes:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$nom = &quot;Joan&quot;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$salutacio = $y . &quot;, &quot; . $nom;  // Resulta en &quot;Hola món, Joan&quot;</span>
</code></pre></div></p>
<h3 id="funcions">🛠️ Funcions<a class="headerlink" href="#funcions" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Sintaxi bàsica</strong>:<ul>
<li>La paraula clau <code>function</code> es fa servir per a definir la funció.</li>
<li>Després segueix el nom de la funció, que pot contenir lletres, nombres i guions baixos (però no pot començar amb un nombre).</li>
<li>Entre els parèntesis es poden passar arguments (opcionals).</li>
<li>El cos de la funció es defineix entre claudàtors <code>{}</code>.</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">function nomFuncio() {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    // Codi de la funció</span>
<span class="linenos" data-linenos="3 "></span><span class="x">}</span>
</code></pre></div>
<ol start="2">
<li><strong>Amb arguments</strong>:<ul>
<li>Els arguments es passen entre els parèntesis i poden ser utilitzats dins de la funció.</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">function saluda($nom) {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    echo &quot;Hola, $nom!&quot;;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">}</span>
<span class="linenos" data-linenos="4 "></span>
<span class="linenos" data-linenos="5 "></span><span class="x">saluda(&quot;Maria&quot;);  // Mostra &quot;Hola, Maria!&quot;</span>
</code></pre></div>
<ol start="3">
<li><strong>Amb valor de retorn</strong>:<ul>
<li>La paraula clau <code>return</code> permet retornar un valor des de la funció. Es pot retornar qualsevol tipus de dades (enter, string, array, etc.).</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">function suma($a, $b) {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    return $a + $b;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">}</span>
<span class="linenos" data-linenos="4 "></span>
<span class="linenos" data-linenos="5 "></span><span class="x">$resultat = suma(5, 3);  // $resultat conté 8</span>
</code></pre></div>
<ol start="4">
<li><strong>Funcions amb valors per defecte</strong>:<ul>
<li>Si no es passa cap argument, la funció pot utilitzar un valor per defecte.</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">function saludar($nom = &quot;amic&quot;) {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    echo &quot;Hola, &quot; . $nom;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">}</span>
<span class="linenos" data-linenos="4 "></span>
<span class="linenos" data-linenos="5 "></span><span class="x">saludar();  // Mostra &quot;Hola, amic&quot;</span>
<span class="linenos" data-linenos="6 "></span><span class="x">saludar(&quot;Maria&quot;);  // Mostra &quot;Hola, Maria&quot;</span>
</code></pre></div>
<ol start="5">
<li><strong>Tipus de dades en arguments i retorn</strong> (des de PHP 7):<ul>
<li>És possible especificar el tipus de dades dels arguments i el tipus de retorn. Això ajuda a assegurar que la funció rep i retorna els tipus esperats.</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">function sumar(int $a, int $b): int {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    return $a + $b;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">}</span>
<span class="linenos" data-linenos="4 "></span>
<span class="linenos" data-linenos="5 "></span><span class="x">$resultat = sumar(5, 3);  // $resultat conté 8</span>
</code></pre></div>
<h3 id="directives-per-a-modificar-el-comportament-predeterminat-del-codi">⚙️ Directives per a modificar el comportament predeterminat del codi<a class="headerlink" href="#directives-per-a-modificar-el-comportament-predeterminat-del-codi" title="Permanent link">&para;</a></h3>
<p>Include i require:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">include &#39;fitxer.php&#39;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">require &#39;fitxer.php&#39;;</span>
</code></pre></div>
Include_once i require_once:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">include_once &#39;fitxer.php&#39;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">require_once &#39;fitxer.php&#39;;</span>
</code></pre></div>
Exemple:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="x">// contingut de fitxer.php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">function</span> <span class="nf">saludar</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">echo</span> <span class="s2">&quot;Hola!&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 6 "></span><span class="cp">?&gt;</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span><span class="x">// contingut de principal.php</span>
<span class="linenos" data-linenos=" 9 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="10 "></span><span class="k">include</span> <span class="s1">&#39;fitxer.php&#39;</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span><span class="nx">saludar</span><span class="p">();</span> <span class="c1">// Mostra &quot;Hola!&quot;</span>
<span class="linenos" data-linenos="12 "></span><span class="cp">?&gt;</span>
</code></pre></div></p>
<h3 id="mecanismes-de-decisio-if-match">🔀 Mecanismes de decisió (if, match)<a class="headerlink" href="#mecanismes-de-decisio-if-match" title="Permanent link">&para;</a></h3>
<p>If, else, elseif:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">if ($condicio) {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    // Codi si la condició és certa</span>
<span class="linenos" data-linenos="3 "></span><span class="x">} elseif ($altra_condicio) {</span>
<span class="linenos" data-linenos="4 "></span><span class="x">    // Codi si la segona condició és certa</span>
<span class="linenos" data-linenos="5 "></span><span class="x">} else {</span>
<span class="linenos" data-linenos="6 "></span><span class="x">    // Codi si cap de les condicions anteriors és certa</span>
<span class="linenos" data-linenos="7 "></span><span class="x">}</span>
</code></pre></div></p>
<p>Match: 
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$result = match ($variable) {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    valor1 =&gt; resultat1,</span>
<span class="linenos" data-linenos="3 "></span><span class="x">    valor2 =&gt; resultat2,</span>
<span class="linenos" data-linenos="4 "></span><span class="x">    valor3 =&gt; resultat3,</span>
<span class="linenos" data-linenos="5 "></span><span class="x">    // ...</span>
<span class="linenos" data-linenos="6 "></span><span class="x">    default =&gt; valorPerDefecte,</span>
<span class="linenos" data-linenos="7 "></span><span class="x">};</span>
</code></pre></div></p>
<p>Exemple simple:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="x">$color = &#39;roig&#39;;</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="x">$resultat = match ($color) {</span>
<span class="linenos" data-linenos=" 4 "></span><span class="x">    &#39;roig&#39; =&gt; &#39;El color és vermell&#39;,</span>
<span class="linenos" data-linenos=" 5 "></span><span class="x">    &#39;blau&#39; =&gt; &#39;El color és blau&#39;,</span>
<span class="linenos" data-linenos=" 6 "></span><span class="x">    &#39;verd&#39; =&gt; &#39;El color és verd&#39;,</span>
<span class="linenos" data-linenos=" 7 "></span><span class="x">    default =&gt; &#39;Color desconegut&#39;,</span>
<span class="linenos" data-linenos=" 8 "></span><span class="x">};</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="x">echo $resultat;  // Sortida: El color és vermell</span>
</code></pre></div>
Exemple expressions complexes:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="x">$edat = 20;</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="x">$categoria = match (true) {</span>
<span class="linenos" data-linenos=" 4 "></span><span class="x">    $edat &gt;= 0 &amp;&amp; $edat &lt;= 12 =&gt; &#39;Nen&#39;,</span>
<span class="linenos" data-linenos=" 5 "></span><span class="x">    $edat &gt;= 13 &amp;&amp; $edat &lt;= 17 =&gt; &#39;Adolescent&#39;,</span>
<span class="linenos" data-linenos=" 6 "></span><span class="x">    $edat &gt;= 18 &amp;&amp; $edat &lt;= 64 =&gt; &#39;Adult&#39;,</span>
<span class="linenos" data-linenos=" 7 "></span><span class="x">    $edat &gt;= 65 =&gt; &#39;Gent gran&#39;,</span>
<span class="linenos" data-linenos=" 8 "></span><span class="x">    default =&gt; &#39;Edat desconeguda&#39;,</span>
<span class="linenos" data-linenos=" 9 "></span><span class="x">};</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="x">echo $categoria;  // Sortida: Adult</span>
</code></pre></div>
Exemples casos multiples:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$dia = &#39;dimecres&#39;;</span>
<span class="linenos" data-linenos="2 "></span>
<span class="linenos" data-linenos="3 "></span><span class="x">$tipusDia = match ($dia) {</span>
<span class="linenos" data-linenos="4 "></span><span class="x">    &#39;dissabte&#39;, &#39;diumenge&#39; =&gt; &#39;Cap de setmana&#39;,</span>
<span class="linenos" data-linenos="5 "></span><span class="x">    &#39;dilluns&#39;, &#39;dimarts&#39;, &#39;dimecres&#39;, &#39;dijous&#39;, &#39;divendres&#39; =&gt; &#39;Dia laborable&#39;,</span>
<span class="linenos" data-linenos="6 "></span><span class="x">    default =&gt; &#39;Dia desconegut&#39;,</span>
<span class="linenos" data-linenos="7 "></span><span class="x">};</span>
<span class="linenos" data-linenos="8 "></span><span class="x">echo $tipusDia;  // Sortida: Dia laborable</span>
</code></pre></div></p>
<h3 id="bucles-for-while-foreach">🔄 Bucles (for, while, foreach)<a class="headerlink" href="#bucles-for-while-foreach" title="Permanent link">&para;</a></h3>
<p>For:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">for ($i = 0; $i &lt; 10; $i++) {</span>
<span class="linenos" data-linenos="2 "></span><span class="x">    echo $i;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">}</span>
</code></pre></div>
While:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$i = 0;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">while ($i &lt; 10) {</span>
<span class="linenos" data-linenos="3 "></span><span class="x">    echo $i;</span>
<span class="linenos" data-linenos="4 "></span><span class="x">    $i++;</span>
<span class="linenos" data-linenos="5 "></span><span class="x">}</span>
</code></pre></div>
Foreach:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$matriu = array(1, 2, 3);</span>
<span class="linenos" data-linenos="2 "></span><span class="x">foreach ($matriu as $valor) {</span>
<span class="linenos" data-linenos="3 "></span><span class="x">    echo $valor;</span>
<span class="linenos" data-linenos="4 "></span><span class="x">}</span>
</code></pre></div>
Exemple:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$fruites = array(&quot;poma&quot;, &quot;plàtan&quot;, &quot;maduixa&quot;);</span>
<span class="linenos" data-linenos="2 "></span><span class="x">foreach ($fruites as $fruita) {</span>
<span class="linenos" data-linenos="3 "></span><span class="x">    echo $fruita;</span>
<span class="linenos" data-linenos="4 "></span><span class="x">}</span>
</code></pre></div></p>
<h3 id="arrays">📚 Arrays<a class="headerlink" href="#arrays" title="Permanent link">&para;</a></h3>
<p>Per a emmagatzemar dades compostes, podem utilitzar tant arrays senzills com arrays associatius (similars a un mapa). En realitat tots els arrays són mapes ordenats compostos de parells clau-valor.</p>
<div class="admonition caution">
<p class="admonition-title">Compte amb mesclar tipus</p>
<p>Com el tipat és dinàmic, nostres arrays poden contenir dades de diferents tipus. No es recomana mesclar els tipus.</p>
</div>
<p>De la mateixa manera que Java, es defineixen mitjançant claudàtors, són 0-index, i es pot assignar un valor a un posició determinada:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$frutas</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;naranja&quot;</span><span class="p">,</span> <span class="s2">&quot;pera&quot;</span><span class="p">,</span> <span class="s2">&quot;manzana&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="nv">$frutas2</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;naranja&quot;</span><span class="p">,</span> <span class="s2">&quot;pera&quot;</span><span class="p">,</span> <span class="s2">&quot;manzana&quot;</span><span class="p">];</span>
<span class="linenos" data-linenos="5 "></span>
<span class="linenos" data-linenos="6 "></span><span class="nv">$frutas3</span> <span class="o">=</span> <span class="p">[];</span>
<span class="linenos" data-linenos="7 "></span><span class="nv">$frutas3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;naranja&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="8 "></span><span class="nv">$frutas3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;pera&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="9 "></span><span class="nv">$frutas3</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">&quot;manzana&quot;</span><span class="p">;</span> <span class="c1">// lo añade al final</span>
</code></pre></div>
<p>Podem obtindre la grandària del array mitjançant la funció <code>count(array)</code>. Per a recórrer el array farem ús d'un bucle <code>for</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$tam</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$frutas</span><span class="p">);</span> <span class="c1">// tamaño del array</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span><span class="o">&lt;</span><span class="nb">count</span><span class="p">(</span><span class="nv">$frutas</span><span class="p">);</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="5 "></span>    <span class="k">echo</span> <span class="s2">&quot;Elemento </span><span class="si">$i</span><span class="s2">: </span><span class="si">$frutas[$i]</span><span class="s2"> &lt;br /&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>
</code></pre></div>
<p>Una altra manera de recórrer els arrays, fins i tot més elegant, és fer ús de <code>foreach</code>. La seua sintaxi és <code>foreach (array as element)</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="c1">// Mitjançant foreach no necessitem saber la grandària del array</span>
<span class="linenos" data-linenos="3 "></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$frutas</span> <span class="k">as</span> <span class="nv">$fruta</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="4 "></span>    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$fruta</span><span class="s2"> &lt;br /&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="arrays-associatius">🗂️ Arrays associatius<a class="headerlink" href="#arrays-associatius" title="Permanent link">&para;</a></h3>
<p>Cada element és un parell clau-valor. En comptes d'accedir per la posició, el fem mitjançant una clau. Així doncs, per a cada clau s'emmagatzema un valor.</p>
<p>A l'hora de recórrer aquest tipus de arrays, mitjançant <code>foreach</code> separem cada element en una parella <code>clau =&gt; valor</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$capitales</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Italia&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Roma&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="s2">&quot;Francia&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Paris&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="s2">&quot;Portugal&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Lisboa&quot;</span><span class="p">];</span>
<span class="linenos" data-linenos=" 5 "></span><span class="nv">$capitalFrancia</span> <span class="o">=</span> <span class="nv">$capitales</span><span class="p">[</span><span class="s2">&quot;Francia&quot;</span><span class="p">];</span> <span class="c1">// se accede al elemento por la clave, no la posición</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="nv">$capitales</span><span class="p">[</span><span class="s2">&quot;Alemania&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Berlín&quot;</span><span class="p">;</span> <span class="c1">// añadimos un elemento</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span><span class="k">echo</span> <span class="s2">&quot;La capital de Francia es </span><span class="si">$capitalFrancia</span><span class="s2"> &lt;br /&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span><span class="k">echo</span> <span class="s2">&quot;La capital de Francia es </span><span class="si">{</span><span class="nv">$capitales</span><span class="p">[</span><span class="s2">&quot;Francia&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2"> &lt;br /&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$capitales</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">&quot;Madrid&quot;</span><span class="p">;</span> <span class="c1">// se añade con la clave 0 !!! ¡¡¡No asignar valores sin clave!!!</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$capitales</span> <span class="k">as</span> <span class="nv">$valor</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// si recorremos un array asociativo, mostraremos los valores</span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$valor</span><span class="s2"> &lt;br /&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span><span class="p">}</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$capitales</span> <span class="k">as</span> <span class="nv">$pais</span> <span class="o">=&gt;</span> <span class="nv">$ciudad</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// separamos cada elemento en clave =&gt; valor</span>
<span class="linenos" data-linenos="19 "></span>    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$pais</span><span class="s2"> : </span><span class="si">$ciudad</span><span class="s2"> &lt;br /&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="20 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="com-utilitzar-les-cometes-en-php">📝 Com utilitzar les cometes en PHP<a class="headerlink" href="#com-utilitzar-les-cometes-en-php" title="Permanent link">&para;</a></h3>
<p>En PHP, les cometes dobles (<code>"</code>) i les cometes simples (<code>'</code>) s'utilitzen per definir cadenes de caràcters, però tenen comportaments diferents a l'hora de processar variables:</p>
<ul>
<li><strong>Cometes dobles (<code>"</code>)</strong>: Interpolen variables i seqüències d'escapament especials. És a dir, el contingut de la variable es mostrarà dins de la cadena.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$nom = &quot;Maria&quot;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">echo &quot;Hola, $nom!&quot;;  // Sortida: Hola, Maria!</span>
</code></pre></div>
<ul>
<li><strong>Cometes simples (<code>'</code>)</strong>: No interpolen variables ni seqüències d'escapament especials. La cadena es mostrarà exactament com es defineix.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$nom = &quot;Maria&quot;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">echo &#39;Hola, $nom!&#39;;  // Sortida: Hola, $nom!</span>
</code></pre></div>
<h4 id="exemple-dus-de-cometes-dobles-per-imprimir-variables">Exemple d'ús de cometes dobles per imprimir variables<a class="headerlink" href="#exemple-dus-de-cometes-dobles-per-imprimir-variables" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$color = &quot;blau&quot;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$frase = &quot;El meu color preferit és $color.&quot;;</span>
<span class="linenos" data-linenos="3 "></span><span class="x">echo $frase;  // Sortida: El meu color preferit és blau.</span>
</code></pre></div>
<h3 id="comentaris-en-el-codi">💬 Comentaris en el codi<a class="headerlink" href="#comentaris-en-el-codi" title="Permanent link">&para;</a></h3>
<p>Comentaris d'una línia:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">// Això és un comentari d&#39;una línia</span>
</code></pre></div>
Comentaris de diverses línies:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">/* Això és un comentari</span>
<span class="linenos" data-linenos="2 "></span><span class="x">   de diverses línies */</span>
</code></pre></div></p>
<h3 id="variables-de-servidor">🖥️ Variables de servidor<a class="headerlink" href="#variables-de-servidor" title="Permanent link">&para;</a></h3>
<p>PHP emmagatzema la informació del servidor i de les peticions HTTP en sis arrays globals:</p>
<ul>
<li><code>$_ENV</code>: informació sobre les variables d'entorn</li>
<li><code>$_GET</code>: paràmetres enviats en la petició GET</li>
<li><code>$_POST</code>: paràmetres enviats en el envio POST</li>
<li><code>$_COOKIE</code>: conté les cookies de la petició, les claus del array són els noms de les cookies</li>
<li><code>$_SERVER</code>: informació sobre el servidor</li>
<li><code>$_FILES</code>: informació sobre els fitxers carregats via upload</li>
</ul>
<p>Si ens centrem en el array <code>$_SERVER</code> podem consultar les següents propietats:</p>
<ul>
<li><code>PHP_SELF</code>: nom del script executat, relatiu al document root (p.ej: <code>/tenda/carret.php</code>)</li>
<li><code>SERVER_SOFTWARE</code>: (p.ej: Apatxe)</li>
<li><code>SERVER_NAME</code>: domini, àlies DNS (p.ej: <code>www.elche.es</code>)</li>
<li><code>REQUEST_METHOD</code>: GET</li>
<li><code>REQUEST_URI</code>: URI, sense el domini</li>
<li><code>QUERY_STRING</code>: tot el que va després de <code>?</code> en la URL (p.ej: <code>heroe=Batman&amp;nomene=Bruce</code>)</li>
</ul>
<p>Més informació en <a href="https://www.php.net/manual/es/reserved.variables.server.php">https://www.php.net/manual/es/reserved.variables.server.php</a></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;PHP_SELF&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span> <span class="c1">// /u4/401server.php</span>
<span class="linenos" data-linenos="3 "></span><span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;SERVER_SOFTWARE&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span> <span class="c1">// Apache/2.4.46 (Win64) OpenSSL/1.1.1g PHP/7.4.9</span>
<span class="linenos" data-linenos="4 "></span><span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;SERVER_NAME&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span> <span class="c1">// localhost</span>
<span class="linenos" data-linenos="5 "></span>
<span class="linenos" data-linenos="6 "></span><span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;REQUEST_METHOD&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span> <span class="c1">// GET</span>
<span class="linenos" data-linenos="7 "></span><span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;REQUEST_URI&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span> <span class="c1">// /u4/401server.php?heroe=Batman</span>
<span class="linenos" data-linenos="8 "></span><span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;QUERY_STRING&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span> <span class="c1">// heroe=Batman</span>
</code></pre></div>
<p>Altres propietats relacionades:</p>
<ul>
<li><code>PATH_INFO</code>: ruta extra després de la petició. Si la URL és <code>http://www.php.com/php/pathinfo.php/algo/cosa?foo=bar</code>, llavors <code>$_SERVER['PATH_INFO']</code> serà <code>/alguna cosa/cosa</code>.</li>
<li><code>REMOTE_HOST</code>: hostname que va fer la petició</li>
<li><code>REMOTE_ADDR</code>: IP del client</li>
<li><code>AUTH_TYPE</code>: tipus d'autenticació (p.ej: Basic)</li>
<li><code>REMOTE_USER</code>: nom de l'usuari autenticat</li>
</ul>
<p>Apatxe crea una clau per a cada capçalera HTTP, en majúscules i substituint els guions per subratllats:</p>
<ul>
<li><code>HTTP_USER_AGENT</code>: agent (navegador)</li>
<li><code>HTTP_REFERER</code>: pàgina des de la qual es va fer la petició</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">&quot;HTTP_USER_AGENT&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span> <span class="c1">// Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36</span>
</code></pre></div>
<h3 id="formularis">📋 Formularis<a class="headerlink" href="#formularis" title="Permanent link">&para;</a></h3>
<p>A l'hora d'enviar un formulari, hem de tindre clar quan usar GET o POST</p>
<ul>
<li>
<p>GET: els paràmetres es passen en la URL</p>
<ul>
<li>&lt;2048 caràcters, només ASCII</li>
<li>Permet emmagatzemar la direcció completa (marcador / historial)</li>
<li>Idempotent: dues crides amb les mateixes dades sempre ha de donar el mateix resultat</li>
<li>El navegador pot cachejar les cridades</li>
</ul>
</li>
<li>
<p>POST: paràmetres ocults (no encriptats)</p>
<ul>
<li>Sense límit de dades, permet dades binàries.</li>
<li>No es poden escorcollar</li>
<li>No idempotent → actualitzar la BBDD</li>
</ul>
</li>
</ul>
<p>Així doncs, per a recollir les dades accedirem al array depenent del mètode del formulari que ens ha invocat:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$par</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;parametro&quot;</span><span class="p">]</span>
<span class="linenos" data-linenos="3 "></span><span class="nv">$par</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;parametro&quot;</span><span class="p">]</span>
</code></pre></div>
<p>A l'hora d'enviar un formulari, hem de tindre clar quan usar GET o POST. Per als següents apartats ens basarem en el següent exemple:</p>
<h4 id="validacio">Validació<a class="headerlink" href="#validacio" title="Permanent link">&para;</a></h4>
<p>Respecte a la validació, és convenient sempre fer <em>validació doble</em>:</p>
<ul>
<li>En el client mitjançant JS</li>
<li>En servidor, abans de cridar a la capa de negoci, és convenient tornar a validar les dades.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;parametro&quot;</span><span class="p">]))</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="nv">$par </span><span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;parametro&quot;</span><span class="p">];</span>
<span class="linenos" data-linenos="4 "></span>    <span class="c1">// comprobar si $par tiene el formato adecuado, su valor, etc...</span>
<span class="linenos" data-linenos="5 "></span><span class="p">}</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Llibreries de validació</p>
<p>Existeixen diverses llibreries que faciliten la validació dels formularis, com són <a href="https://respect-validation.readthedocs.io/en/latest/">respect/validation</a> o <a href="http://validator.particle-php.com/en/latest/">particle/validator</a>.
Quan estudiem Laravel aprofundirem en la validació de manera declarativa.</p>
</div>
<h4 id="parametre-multivalor">Parámetre multivalor<a class="headerlink" href="#parametre-multivalor" title="Permanent link">&para;</a></h4>
<p>Existeixen elements HTML que envien diversos valors:</p>
<ul>
<li><code>select multiple</code></li>
<li><code>checkbox</code></li>
</ul>
<p>Per a recollir les dades, el nom de l'element ha de ser un array.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;lenguajes[]&quot;</span> <span class="na">multiple</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 2 "></span>    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="p">&gt;</span>C<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="p">&gt;</span>Java<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;php&quot;</span><span class="p">&gt;</span>PHP<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;python&quot;</span><span class="p">&gt;</span>Python<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 6 "></span><span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;lenguajes[]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;c&quot;</span> <span class="p">/&gt;</span> C<span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;lenguajes[]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;java&quot;</span> <span class="p">/&gt;</span> Java<span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos="10 "></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;lenguajes[]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;php&quot;</span> <span class="p">/&gt;</span> Php<span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos="11 "></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;lenguajes[]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;python&quot;</span> <span class="p">/&gt;</span> Python<span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
</code></pre></div>
<p>De manera que després en recollir les dades:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$lenguajes</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;lenguajes&quot;</span><span class="p">];</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$lenguajes</span> <span class="k">as</span> <span class="nv">$lenguaje</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="5 "></span>    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$lenguaje</span><span class="s2"> &lt;br /&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>
</code></pre></div>
<h4 id="tornant-a-emplenar-un-formulari">Tornant a emplenar un formulari<a class="headerlink" href="#tornant-a-emplenar-un-formulari" title="Permanent link">&para;</a></h4>
<p>Un <em>sticky form</em> és un formulari que recorda els seus valors. Per a això, hem d'emplenar els atributs <code>value</code> dels elements HTML amb la informació que contenien:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;modulos&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]))</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>  <span class="c1">// Aquí se incluye el código a ejecutar cuando los datos son correctos</span>
<span class="linenos" data-linenos=" 4 "></span><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>  <span class="c1">// Generamos el formulario</span>
<span class="linenos" data-linenos=" 6 "></span>  <span class="nv">$nombre</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span> <span class="o">??</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>  <span class="nv">$modulos</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;modulos&#39;</span><span class="p">]</span> <span class="o">??</span> <span class="p">[];</span>
<span class="linenos" data-linenos=" 8 "></span>  <span class="cp">?&gt;</span>
<span class="linenos" data-linenos=" 9 "></span>  <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;PHP_SELF&#39;</span><span class="p">];</span><span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="10 "></span>   <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;nombre&quot;</span><span class="p">&gt;</span>Nombre del alumno:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;nombre&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;nombre&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$nombre</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="p">/&gt;</span> 
<span class="linenos" data-linenos="12 "></span>   <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="13 "></span>   <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;modulos[]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;modulosDWES&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;DWES&quot;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="cp">&lt;?php</span> <span class="k">if</span><span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="s2">&quot;DWES&quot;</span><span class="p">,</span><span class="nv">$modulos</span><span class="p">))</span> <span class="k">echo</span> <span class="s1">&#39;checked=&quot;checked&quot;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos="15 "></span>    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;modulosDWES&quot;</span><span class="p">&gt;</span>Desarrollo web en entorno servidor<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="16 "></span>   <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="17 "></span>   <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;modulos[]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;modulosDWEC&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;DWEC&quot;</span>
<span class="linenos" data-linenos="18 "></span>    <span class="cp">&lt;?php</span> <span class="k">if</span><span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="s2">&quot;DWEC&quot;</span><span class="p">,</span><span class="nv">$modulos</span><span class="p">))</span> <span class="k">echo</span> <span class="s1">&#39;checked=&quot;checked&quot;&#39;</span><span class="p">;</span> <span class="cp">?&gt;</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos="19 "></span>    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;modulosDWEC&quot;</span><span class="p">&gt;</span>Desarrollo web en entorno cliente<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="20 "></span>   <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="21 "></span>   <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Enviar&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;enviar&quot;</span><span class="p">/&gt;</span>
<span class="linenos" data-linenos="22 "></span>  <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="23 "></span><span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span>
</code></pre></div>
<h4 id="pujant-arxius">Pujant arxius<a class="headerlink" href="#pujant-arxius" title="Permanent link">&para;</a></h4>
<p>S'emmagatzemen en el servidor en el array <code>$_FILES</code> amb el nom del camp del tipus <code>file</code> del formulari.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">enctype</span><span class="o">=</span><span class="s">&quot;multipart/form-data&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;&lt;?php echo $_SERVER[&#39;PHP_SELF&#39;]; ?&gt;&quot;</span>  <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="2 "></span>    Archivo: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;archivoEnviado&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos="3 "></span>    <span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos="4 "></span>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;btnSubir&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Subir&quot;</span> <span class="p">/&gt;</span>
<span class="linenos" data-linenos="5 "></span><span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>
<p>Configuració en <code>php.ini</code></p>
<ul>
<li><code>file_uploads</code>: on / off</li>
<li><code>upload_max_filesize</code>: 2M</li>
<li><code>upload_tmp_dir</code>: directori temporal. No és necessari configurar-ho, agafarà el predeterminat del sistema</li>
<li><code>post_max_size</code>: grandària màxima de les dades POST. Ha de ser major a upload_max_filesize.</li>
<li><code>max_file_uploads</code>: nombre màxim d'arxius que es poden carregar alhora.</li>
<li><code>max_input_estafe</code>: temps màxim emprat en la càrrega (GET/POST i upload → normalment es configura en 60)</li>
<li><code>memory_limit</code>: 128M</li>
<li><code>max_execution_estafe</code>: temps d'execució d'un script (no té en compte el upload)</li>
</ul>
<p>Per a carregar els arxius, accedim al array <code>$_FILES</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;btnSubir&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;btnSubir&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Subir&#39;</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">if</span> <span class="p">(</span><span class="nb">is_uploaded_file</span><span class="p">(</span><span class="nv">$_FILES</span><span class="p">[</span><span class="s1">&#39;archivoEnviado&#39;</span><span class="p">][</span><span class="s1">&#39;tmp_name&#39;</span><span class="p">]))</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>        <span class="c1">// subido con éxito</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="nv">$nombre</span> <span class="o">=</span> <span class="nv">$_FILES</span><span class="p">[</span><span class="s1">&#39;archivoEnviado&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="nb">move_uploaded_file</span><span class="p">(</span><span class="nv">$_FILES</span><span class="p">[</span><span class="s1">&#39;archivoEnviado&#39;</span><span class="p">][</span><span class="s1">&#39;tmp_name&#39;</span><span class="p">],</span> <span class="s2">&quot;./uploads/</span><span class="si">{</span><span class="nv">$nombre</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="k">echo</span> <span class="s2">&quot;&lt;p&gt;Archivo </span><span class="si">$nombre</span><span class="s2"> subido con éxito&lt;/p&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
</code></pre></div>
<p>Cada arxiu carregat en <code>$_FILES</code> té:</p>
<ul>
<li><code>name</code>: nom</li>
<li><code>tmp_name</code>: ruta temporal</li>
<li><code>size</code>: grandària en bytes</li>
<li><code>type</code>: tipus ACARONE</li>
<li><code>error</code>: si hi ha error, conté un missatge. Si ok → 0.</li>
</ul>
<h2 id="sa22-mecanismes-per-al-manteniment-de-la-informacio-en-aplicacions-web">SA2.2 Mecanismes per al Manteniment de la Informació en Aplicacions Web<a class="headerlink" href="#sa22-mecanismes-per-al-manteniment-de-la-informacio-en-aplicacions-web" title="Permanent link">&para;</a></h2>
<h3 id="fonaments">📖 Fonaments<a class="headerlink" href="#fonaments" title="Permanent link">&para;</a></h3>
<p>HTTP és un protocol <strong>stateless</strong>, sense estat. En les aplicacions web modernes, és essencial gestionar l'estat del client per proporcionar una experiència d'usuari fluida i personalitzada.
Per això, se simula l'estat mitjançant l'ús de cookies, tokens o la sessió. L'estat és necessari per a processos com ara el carret de la compra, operacions associades a un usuari, etc...
A continuació es detallen diversos mecanismes per mantenir aquesta informació, així com els seus avantatges i desavantatges.</p>
<h4 id="cookies">Cookies<a class="headerlink" href="#cookies" title="Permanent link">&para;</a></h4>
<p>Les <strong>cookies</strong> són petits fitxers de text emmagatzemats al navegador de l'usuari. Són àmpliament utilitzades per mantenir l'estat del client entre sol·licituds HTTP, ja que HTTP és un protocol sense estat.</p>
<h5 id="avantatges-de-les-cookies">Avantatges de les Cookies<a class="headerlink" href="#avantatges-de-les-cookies" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Persistència</strong>: Les cookies poden mantenir-se durant períodes llargs definits per l'atribut <code>expires</code> o <code>max-age</code>.</li>
<li><strong>Accessibilitat</strong>: Es poden accedir des de qualsevol pàgina del mateix domini.</li>
<li><strong>Simplicitat</strong>: Fàcils d'implementar i gestionar.</li>
</ul>
<h5 id="desavantatges-de-les-cookies">Desavantatges de les Cookies<a class="headerlink" href="#desavantatges-de-les-cookies" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Seguretat</strong>: Poden ser objectiu d'atacs com <strong>XSS (Cross-Site Scripting)</strong> si no es gestionen correctament.</li>
<li><strong>Limitacions de mida</strong>: Les cookies estan limitades a 4KB de dades.</li>
<li><strong>Privadesa</strong>: Les dades de l'usuari poden ser vulnerables si no es protegeixen adequadament.</li>
</ul>
<h4 id="sessions">Sessions<a class="headerlink" href="#sessions" title="Permanent link">&para;</a></h4>
<p>Les <strong>sessions</strong> són un mecanisme que permet associar dades a un usuari durant una sessió específica. Aquestes dades s'emmagatzemen al servidor, mentre que el client només guarda un identificador de sessió.</p>
<h5 id="avantatges-de-les-sessions">Avantatges de les Sessions<a class="headerlink" href="#avantatges-de-les-sessions" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Seguretat</strong>: Les dades sensibles es mantenen al servidor.</li>
<li><strong>Capacitat d'emmagatzematge</strong>: No limitades per la mida de les cookies.</li>
<li><strong>Compartició de dades</strong>: Facilita la compartició d'estat entre diferents components d'una aplicació web.</li>
</ul>
<h5 id="desavantatges-de-les-sessions">Desavantatges de les Sessions<a class="headerlink" href="#desavantatges-de-les-sessions" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Escalabilitat</strong>: Requereix memòria addicional al servidor, la qual cosa pot ser problemàtica amb molts usuaris.</li>
<li><strong>Persistència limitada</strong>: Normalment només duren mentre el navegador està obert, tret que es configuri d'una altra manera.</li>
</ul>
<h4 id="web-storage">Web Storage<a class="headerlink" href="#web-storage" title="Permanent link">&para;</a></h4>
<p>El <strong>Web Storage</strong> és una API del navegador que permet emmagatzemar dades al client de manera més senzilla i amb més capacitat que les cookies tradicionals. Inclou dos mecanismes principals: <code>localStorage</code> i <code>sessionStorage</code>.</p>
<h5 id="caracteristiques-del-web-storage">Característiques del Web Storage<a class="headerlink" href="#caracteristiques-del-web-storage" title="Permanent link">&para;</a></h5>
<ul>
<li><strong><code>localStorage</code></strong>: Permet emmagatzemar dades que persisteixen fins que s'elimina explícitament, fins i tot després de tancar el navegador.</li>
<li><strong><code>sessionStorage</code></strong>: Les dades es mantenen només durant la sessió del navegador i s'esborren quan es tanca la pestanya o finestra.</li>
</ul>
<h5 id="avantatges">Avantatges<a class="headerlink" href="#avantatges" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Capacitat d'Emmagatzematge</strong>: Ofereix més espai (fins a 5-10MB) que les cookies.</li>
<li><strong>API Simple</strong>: Proporciona una interfície senzilla per emmagatzemar i recuperar dades.</li>
</ul>
<h5 id="usos-comuns">Usos Comuns<a class="headerlink" href="#usos-comuns" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Manteniment de l'Estat del Client</strong>: Pot guardar dades de sessió i preferències de l'usuari que no cal enviar al servidor.</li>
<li><strong>Sincronització amb l'Entorn Servidor</strong>: Es pot utilitzar per emmagatzemar dades que després es sincronitzen amb el servidor, millorant el rendiment i l'experiència d'usuari.</li>
</ul>
<h5 id="consideracions-de-seguretat">Consideracions de Seguretat<a class="headerlink" href="#consideracions-de-seguretat" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Accessibilitat</strong>: Les dades són accessibles per JavaScript, per la qual cosa s'ha de tenir cura amb les vulnerabilitats XSS.</li>
<li><strong>Dades Sensibles</strong>: Evita emmagatzemar dades sensibles o confidencials.</li>
</ul>
<p>Tot i que <strong>Web Storage</strong> s'executa al costat del client, entendre les seves funcionalitats pot ajudar els desenvolupadors del servidor a dissenyar sistemes més robustos i eficaços, on la cooperació entre client i servidor maximitza l'eficiència de l'aplicació web.</p>
<h4 id="tokens-dautenticacio">Tokens d'Autenticació<a class="headerlink" href="#tokens-dautenticacio" title="Permanent link">&para;</a></h4>
<p>Els <strong>JSON Web Tokens (JWT)</strong> són un estàndard obert que defineix una manera compacta i autònoma d'enviar informació entre dues parts de manera segura com a objecte JSON. S'utilitzen habitualment per a l'autenticació en aplicacions web.</p>
<h5 id="avantatges-dels-jwt">Avantatges dels JWT<a class="headerlink" href="#avantatges-dels-jwt" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Estatut autònom</strong>: Porten tota la informació necessària, eliminant la necessitat de mantenir sessions al servidor.</li>
<li><strong>Escalabilitat</strong>: Milloren l'escalabilitat en aplicacions distribuïdes.</li>
<li><strong>Seguretat</strong>: Es poden signar digitalment per assegurar la seva autenticitat.</li>
</ul>
<h5 id="desavantatges-dels-jwt">Desavantatges dels JWT<a class="headerlink" href="#desavantatges-dels-jwt" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Revocació complexa</strong>: Una vegada emesos, és difícil revocar-los sense mantenir una llista negra.</li>
<li><strong>Sobrecarrega de dades</strong>: Si els tokens són grans, poden afectar el rendiment, especialment en xarxes de baixa latència.</li>
</ul>
<h4 id="cache-del-navegador">Cache del Navegador<a class="headerlink" href="#cache-del-navegador" title="Permanent link">&para;</a></h4>
<p>El <strong>cache del navegador</strong> s'utilitza per emmagatzemar còpies temporals de recursos web per millorar el rendiment i reduir la càrrega del servidor.</p>
<h5 id="avantatges-del-cache">Avantatges del Cache<a class="headerlink" href="#avantatges-del-cache" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Rendiment</strong>: Redueix el temps de càrrega dels recursos.</li>
<li><strong>Optimització</strong>: Disminueix l'ample de banda requerit.</li>
</ul>
<h5 id="desavantatges-del-cache">Desavantatges del Cache<a class="headerlink" href="#desavantatges-del-cache" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Consistència</strong>: Pot servir dades obsoletes si no es gestiona correctament.</li>
<li><strong>Control</strong>: Requereix configuració per evitar el caching indesitjat de dades dinàmiques.</li>
</ul>
<h3 id="cookies_1">🍪 Cookies<a class="headerlink" href="#cookies_1" title="Permanent link">&para;</a></h3>
<p>Les cookies s'emmagatzemen en el array global <code>$_COOKIE</code>. El que col·loquem dins del array, es guardarà en el client. Cal tindre present que el client pot no voler emmagatzemar-les.</p>
<p>Existeix una limitació de 20 cookies per domini i 300 en total en el navegador.</p>
<p>En PHP, per a crear una cookie s'utilitza la funció <code>setcookie</code>:</p>
<p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nb">setcookie</span><span class="p">(</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="s1">&#39;nom_cookie&#39;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="s1">&#39;valor_cookie&#39;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="p">[</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="s1">&#39;expires&#39;</span> <span class="o">=&gt;</span> <span class="nb">time</span><span class="p">()</span> <span class="o">+</span> <span class="mi">3600</span><span class="p">,</span> <span class="c1">// 1 hora</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">// Domini actual</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="s1">&#39;secure&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="c1">// Només HTTPS</span>
<span class="linenos" data-linenos="10 "></span>        <span class="s1">&#39;httponly&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="c1">// Només accessible via HTTP</span>
<span class="linenos" data-linenos="11 "></span>        <span class="s1">&#39;samesite&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Lax&#39;</span> <span class="c1">// o &#39;Strict&#39; o &#39;None&#39;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">]</span>
<span class="linenos" data-linenos="13 "></span><span class="p">);</span>
<span class="linenos" data-linenos="14 "></span><span class="cp">?&gt;</span>
</code></pre></div>
Destacar que el nom no pot contindre espais ni el caràcter <code>;</code>. Respecte al contingut de la cookie, no pot superar els 4 KB.</p>
<h5 id="consideracions-de-seguretat-per-a-cookies">Consideracions de seguretat per a cookies:<a class="headerlink" href="#consideracions-de-seguretat-per-a-cookies" title="Permanent link">&para;</a></h5>
<p><strong>HTTPOnly</strong>: Assegura't que les cookies que contenen informació sensible no siguin accessibles per JavaScript utilitzant l'atribut HttpOnly.</p>
<p><strong>Secure</strong>: Utilitza l'atribut Secure per assegurar que les cookies només es transmeten en connexions HTTPS.</p>
<p><strong>SameSite</strong>: Defineix correctament l'atribut SameSite per a prevenir atacs CSRF (Cross-Site Request Forgery).</p>
<p>Per exemple, mitjançant <em>cookies</em> podem comprovar la quantitat de visites diferents que realitza un usuari:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$accesosPagina </span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos" data-linenos="3 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_COOKIE</span><span class="p">[</span><span class="s1">&#39;accesos&#39;</span><span class="p">]))</span> <span class="p">{</span> 
<span class="linenos" data-linenos="4 "></span>    <span class="nv">$accesosPagina </span><span class="o">=</span> <span class="nv">$_COOKIE</span><span class="p">[</span><span class="s1">&#39;accesos&#39;</span><span class="p">];</span> <span class="c1">// recuperamos una cookie</span>
<span class="linenos" data-linenos="5 "></span>    <span class="nb">setcookie</span><span class="p">(</span><span class="s1">&#39;accesos&#39;</span><span class="p">,</span> <span class="o">++</span><span class="nv">$accesosPagina</span><span class="p">);</span> <span class="c1">// le asignamos un valor</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>
<span class="linenos" data-linenos="7 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Inspeccionant les cookies</p>
</div>
<p>Si volem veure que contenen les cookies que tenim emmagatzemades en el navegador, es pot comprovar el seu valor en Dev Tools &rarr; Application &rarr; Storage</p>
<p>El temps de vida de les cookies pot ser tan llarg com el lloc web en el qual resideixen. Elles seguiran ací, fins i tot si el navegador està tancat o obert.</p>
<p>Per a esborrar una cookie es pot posar que expiren en el passat:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">setcookie</span><span class="p">(</span><span class="nx">nombre</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// pasado</span>
</code></pre></div>
<p>O que caduquen dins d'un període de temps deteminado:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">setcookie</span><span class="p">(</span><span class="nx">nombre</span><span class="p">,</span> <span class="nx">valor</span><span class="p">,</span> <span class="nb">time</span><span class="p">()</span> <span class="o">+</span> <span class="mi">3600</span><span class="p">)</span> <span class="c1">// Caducan dentro de una hora</span>
</code></pre></div>
<figure style="align: center;">
    <img src="imagenes/04/04cookies.png" width="700">
    <figcaption>Comunicació amb cookies</figcaption>
</figure>

<p>S'utilitzen per a:</p>
<ul>
<li>Recordar els inicis de sessió</li>
<li>Emmagatzemar valors temporals d'usuari</li>
<li>Si un usuari està navegant per una llista paginada d'articles, ordenats d'una certa manera, podem emmagatzemar l'ajust de la classificació.</li>
</ul>
<p>L'alternativa en el client per a emmagatzemar informació en el navegador és l'objecte <a href="https://developer.mozilla.org/es/docs/web/api/window/localstorage">LocalStorage</a>.</p>
<h3 id="sessions_1">🔑 Sessions<a class="headerlink" href="#sessions_1" title="Permanent link">&para;</a></h3>
<p>La sessió afig la gestió de l'estat a HTTP, emmagatzemant en aquest cas la informació en el servidor.
Cada visitant té un ID de sessió únic, el qual per defecte s'emmagatzema en una cookie denominada <code>PHPSESSID</code>.
Si el client no té les cookies actives, l'ID es propaga en cada URL dins del mateix domini.
Cada sessió té associat un magatzem de dades mitjançant el array global <code>$_SESSION</code>, en el qual podem emmagatzemar i recuperar informació.</p>
<p>La sessió comença en executar un script PHP. Es genera un nou ID i es carreguen les dades del magatzem:</p>
<figure style="align: center;">
    <img src="imagenes/04/04sesion.png" width="700">
    <figcaption>Comunicació amb sessions</figcaption>
</figure>

<p>Les operacions que podem realitzar amb la sessió són:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">session_start</span><span class="p">();</span> <span class="c1">// carga la sesión</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">session_regenerate_id</span><span class="p">(</span><span class="k">true</span><span class="p">);</span> <span class="c1">// regenera el id</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">session_id</span><span class="p">()</span> <span class="c1">// devuelve el id</span>
<span class="linenos" data-linenos="5 "></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="nx">clave</span><span class="p">]</span> <span class="o">=</span> <span class="nx">valor</span><span class="p">;</span> <span class="c1">// inserción</span>
<span class="linenos" data-linenos="6 "></span><span class="nb">session_destroy</span><span class="p">();</span> <span class="c1">// destruye la sesión</span>
<span class="linenos" data-linenos="7 "></span><span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="nx">clave</span><span class="p">];</span> <span class="c1">// borrado</span>
</code></pre></div>
<p>Veurem mitjançant un exemple com podem inserir en un pàgina dades en la sessió per a posteriorment en una altra pàgina accedir a aqueixes dades. Per exemple, en <code>sesion.php</code> tindríem</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">// Iniciar sessió</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nb">session_start</span><span class="p">();</span>
<span class="linenos" data-linenos=" 4 "></span><span class="nb">session_regenerate_id</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="c1">// Establir valors de sessió</span>
<span class="linenos" data-linenos=" 7 "></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;usuari&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;JohnDoe&#39;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;rol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;admin&#39;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<p>I posteriorment podem accedir a la sessió en <code>sesion1.php</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nb">session_start</span><span class="p">();</span>
<span class="linenos" data-linenos=" 3 "></span><span class="c1">// Recuperar valors de sessió</span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">echo</span> <span class="s1">&#39;Usuari: &#39;</span> <span class="o">.</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;usuari&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&lt;br&gt;&#39;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">echo</span> <span class="s1">&#39;Rol: &#39;</span> <span class="o">.</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;rol&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&lt;br&gt;&#39;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="c1">// Tancar sessió de forma segura</span>
<span class="linenos" data-linenos=" 8 "></span><span class="nb">session_unset</span><span class="p">();</span>  <span class="c1">// Eliminar totes les variables de sessió</span>
<span class="linenos" data-linenos=" 9 "></span><span class="nb">session_destroy</span><span class="p">();</span>  <span class="c1">// Destruir la sessió</span>
<span class="linenos" data-linenos="10 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Configurant la sessió en <code>php.ini</code></p>
</div>
<p>Les següent propietats de <code>php.ini</code> permeten configurar alguns aspectes de la sessió:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>  * `session.save_handler`: controlador que gestiona com s&#39;emmagatzema (`files`)
<span class="linenos" data-linenos="2 "></span>  * `session.save_path`: ruta on s&#39;emmagatzemen els arxius amb les dades (si tenim un clúster, podríem usar `/mnt/sessions` en tots els servidor de manera que apunten a una carpeta compartida)
<span class="linenos" data-linenos="3 "></span>  * `session.name`: nom de la sessió (`PHSESSID`)
<span class="linenos" data-linenos="4 "></span>  * `session.acte_start`: Es pot fer que s&#39;autocarregue amb cada script. Per defecte està deshabilitat
<span class="linenos" data-linenos="5 "></span>  * `session.cookie_lifetime`: temps de vida per defecte
</code></pre></div>
<p>Més informació en la <a href="https://www.php.net/manual/es/session.configuration.php">documentació oficial</a>.</p>
<h3 id="serialitzacio-en-php">📦➡️📄 Serialització en PHP<a class="headerlink" href="#serialitzacio-en-php" title="Permanent link">&para;</a></h3>
<p>La serialització és el procés de convertir una estructura de dades o un objecte en una seqüència de caràcters que pot ser fàcilment emmagatzemada o transmesa i després reconstruïda. PHP proporciona dos funcions principals per a això: serialize() i unserialize().</p>
<ol>
<li>serialize()
   La funció serialize() en PHP s'utilitza per a convertir una estructura de dades o un objecte en una representació de cadena.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$data = array(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$serialized_data = serialize($data);</span>
<span class="linenos" data-linenos="3 "></span><span class="x">echo $serialized_data;</span>
</code></pre></div>
Eixida</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">a:3:{i:0;s:1:&quot;a&quot;;i:1;s:1:&quot;b&quot;;i:2;s:1:&quot;c&quot;;}</span>
</code></pre></div>
<ol start="2">
<li>unserialize()
   La funció unserialize() en PHP s'utilitza per a convertir la representació de cadena serialitzada de nou en una estructura de dades o un objecte.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$original_data = unserialize($serialized_data);</span>
<span class="linenos" data-linenos="2 "></span><span class="x">print_r($original_data);</span>
</code></pre></div>
<p>Eixida</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">Array</span>
<span class="linenos" data-linenos="2 "></span><span class="x">(</span>
<span class="linenos" data-linenos="3 "></span><span class="x">    [0] =&gt; a</span>
<span class="linenos" data-linenos="4 "></span><span class="x">    [1] =&gt; b</span>
<span class="linenos" data-linenos="5 "></span><span class="x">    [2] =&gt; c</span>
<span class="linenos" data-linenos="6 "></span><span class="x">)</span>
</code></pre></div>
<h5 id="utilitzant-serialitzacio-amb-sessions">Utilitzant serialització amb Sessions<a class="headerlink" href="#utilitzant-serialitzacio-amb-sessions" title="Permanent link">&para;</a></h5>
<p>Les sessions en PHP permeten emmagatzemar informació d'usuari per ser utilitzada en diverses pàgines. Pot ser útil serialitzar dades per a emmagatzemar-les en una sessió:</p>
<p>Iniciant una sessió i emmagatzemant dades serialitzades:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">session_start();</span>
<span class="linenos" data-linenos="2 "></span><span class="x">session_regenerate_id(true);</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="x">$data = array(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</span>
<span class="linenos" data-linenos="5 "></span><span class="x">$_SESSION[&#39;data_serialitzada&#39;] = serialize($data);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">session_start();</span>
<span class="linenos" data-linenos="2 "></span>
<span class="linenos" data-linenos="3 "></span><span class="x">if (isset($_SESSION[&#39;data_serialitzada&#39;])) {</span>
<span class="linenos" data-linenos="4 "></span><span class="x">$data = unserialize($_SESSION[&#39;data_serialitzada&#39;]);</span>
<span class="linenos" data-linenos="5 "></span><span class="x">print_r($data);</span>
<span class="linenos" data-linenos="6 "></span><span class="x">}</span>
</code></pre></div>
<p>Consideracions de Seguretat:
És crucial entendre que la funció unserialize() pot ser perillosa si s'usa amb dades que no són de confiança, ja que podria portar a l'execució de codi arbitrari. Per això, mai has de deserialitzar dades que vinguen d'una font desconeguda o no fiable sense validar-les prèviament.</p>
<h3 id="autenticacio-dusuaris">👤✔️ Autenticació d'usuaris<a class="headerlink" href="#autenticacio-dusuaris" title="Permanent link">&para;</a></h3>
<h4 id="mecanismes-dautenticacio-dusuaris">Mecanismes d'Autenticació d'Usuaris<a class="headerlink" href="#mecanismes-dautenticacio-dusuaris" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Mecanisme d'Autenticació</th>
<th>Característiques</th>
<th>Avantatges</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Bàsica (usuari/contrasenya)</strong></td>
<td>Es requereix un nom d'usuari i una contrasenya per accedir.</td>
<td>Fàcil d'implementar, àmpliament utilitzada.</td>
</tr>
<tr>
<td><strong>Cookies</strong></td>
<td>Emmagatzema informació d'autenticació en el navegador de l'usuari.</td>
<td>Persistència d'inici de sessió, personalització d'experiència.</td>
</tr>
<tr>
<td><strong>Sessions</strong></td>
<td>Manté l'estat d'autenticació en el servidor amb una identificació de sessió única.</td>
<td>Major seguretat, evita la necessitat d'emmagatzemar informació sensible al client.</td>
</tr>
<tr>
<td><strong>OAuth</strong></td>
<td>Permet als usuaris accedir a recursos sense compartir les seves credencials.</td>
<td>Seguretat millorada, experiència d'usuari simplificada.</td>
</tr>
<tr>
<td><strong>JWT (JSON Web Token)</strong></td>
<td>Utilitza tokens basats en JSON per a l'autenticació.</td>
<td>Lliure d'estat, fàcil de compartir entre diferents serveis.</td>
</tr>
<tr>
<td><strong>SAML (Security Assertion Markup Language)</strong></td>
<td>Utilitza XML per a intercanviar dades d'autenticació entre l'usuari i el servei.</td>
<td>Integració amb sistemes d'autenticació empresarial, alt nivell de seguretat.</td>
</tr>
<tr>
<td><strong>Autenticació multifactor (MFA)</strong></td>
<td>Requereix múltiples formes de verificació (per exemple, contrasenya + codi SMS).</td>
<td>Seguretat augmentada, redueix el risc de compromís de comptes.</td>
</tr>
</tbody>
</table>
<h4 id="exemple-amb-sessions">Exemple amb sessions<a class="headerlink" href="#exemple-amb-sessions" title="Permanent link">&para;</a></h4>
<p>Una sessió estableix una relació anònima amb un usuari particular, de manera que podem saber si és el mateix usuari entre dues peticions diferents. Si preparem un sistema de login, podrem saber qui utilitza la nostra aplicació.</p>
<p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">// Llista d&#39;usuaris predefinits amb contrasenyes en text pla</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$users</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="s1">&#39;user1@example.com&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;password1&#39;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="s1">&#39;user2@example.com&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;password2&#39;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 6 "></span><span class="p">];</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span><span class="c1">// Convertir les contrasenyes a un format encriptat</span>
<span class="linenos" data-linenos=" 9 "></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$email</span> <span class="o">=&gt;</span> <span class="nv">$password</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>    <span class="nv">$users</span><span class="p">[</span><span class="nv">$email</span><span class="p">]</span> <span class="o">=</span> <span class="nb">password_hash</span><span class="p">(</span><span class="nv">$password</span><span class="p">,</span> <span class="nx">PASSWORD_BCRYPT</span><span class="p">);</span>
<span class="linenos" data-linenos="11 "></span><span class="p">}</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span><span class="c1">// Formulari d&#39;autenticació</span>
<span class="linenos" data-linenos="14 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;login&#39;</span><span class="p">]))</span> <span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>    <span class="nv">$email</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">];</span>
<span class="linenos" data-linenos="16 "></span>    <span class="nv">$password</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">];</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span>    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$users</span><span class="p">[</span><span class="nv">$email</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nb">password_verify</span><span class="p">(</span><span class="nv">$password</span><span class="p">,</span> <span class="nv">$users</span><span class="p">[</span><span class="nv">$email</span><span class="p">]))</span> <span class="p">{</span>
<span class="linenos" data-linenos="19 "></span>        <span class="c1">// L&#39;usuari està autenticat</span>
<span class="linenos" data-linenos="20 "></span>        <span class="nb">session_start</span><span class="p">();</span>
<span class="linenos" data-linenos="21 "></span>        <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$email</span><span class="p">;</span>
<span class="linenos" data-linenos="22 "></span>        <span class="k">echo</span> <span class="s2">&quot;Login successful. Welcome, &quot;</span> <span class="o">.</span> <span class="nv">$email</span><span class="p">;</span>
<span class="linenos" data-linenos="23 "></span>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="linenos" data-linenos="24 "></span>        <span class="c1">// Credencials incorrectes</span>
<span class="linenos" data-linenos="25 "></span>        <span class="k">echo</span> <span class="s2">&quot;Invalid email or password.&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="26 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="27 "></span><span class="p">}</span>
<span class="linenos" data-linenos="28 "></span><span class="cp">?&gt;</span>
<span class="linenos" data-linenos="29 "></span><span class="x">&lt;form method=&quot;post&quot;&gt;</span>
<span class="linenos" data-linenos="30 "></span><span class="x">    Email: &lt;input type=&quot;email&quot; name=&quot;email&quot; required&gt;</span>
<span class="linenos" data-linenos="31 "></span><span class="x">    Password: &lt;input type=&quot;password&quot; name=&quot;password&quot; required&gt;</span>
<span class="linenos" data-linenos="32 "></span><span class="x">    &lt;button type=&quot;submit&quot; name=&quot;login&quot;&gt;Login&lt;/button&gt;</span>
<span class="linenos" data-linenos="33 "></span><span class="x">&lt;/form&gt;</span>
</code></pre></div>
Aquest exemple mostra com mantenir l'estat de la sessió d'un usuari una vegada autenticat.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nb">session_start</span><span class="p">();</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]))</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="nb">header</span><span class="p">(</span><span class="s2">&quot;Location: login.php&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">exit</span><span class="p">();</span>
<span class="linenos" data-linenos=" 7 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span><span class="c1">// Mostra la pàgina només si l&#39;usuari està autenticat</span>
<span class="linenos" data-linenos="10 "></span><span class="k">echo</span> <span class="s2">&quot;Welcome, &quot;</span> <span class="o">.</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">];</span>
<span class="linenos" data-linenos="11 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<p>Finalment, necessitem l'opció de tancar la sessió que col·loquem en <code>logout.php</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="c1">// Recuperamos la información de la sesión</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">session_start</span><span class="p">();</span>
<span class="linenos" data-linenos="4 "></span>
<span class="linenos" data-linenos="5 "></span><span class="c1">// Y la destruimos</span>
<span class="linenos" data-linenos="6 "></span><span class="nb">session_destroy</span><span class="p">();</span>
<span class="linenos" data-linenos="7 "></span><span class="nb">header</span><span class="p">(</span><span class="s2">&quot;Location: index.php&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="8 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Autenticació en producció</p>
</div>
<p>En l'actualitat l'autenticació d'usuari no es realitza gestionant la sessió direcamente, sinó que es realitza mitjançant algun framekwork que abstrau tot el procés o la integració de mecanismes d'autenticació tipus <em>OAuth</em>, com estudiarem en l'última unitat mitjançant <em>Laravel</em>.
 `</p>
<h2 id="sa23-poo">SA2.3 POO<a class="headerlink" href="#sa23-poo" title="Permanent link">&para;</a></h2>
<h3 id="introduccio-de-la-poo-en-php">🐘 Introducció de la POO en php<a class="headerlink" href="#introduccio-de-la-poo-en-php" title="Permanent link">&para;</a></h3>
<p>PHP segueix un paradigma de programació orientada a objectes (POO) basada en classes.</p>
<p>Un classe és un plantilla que defineix les propietats i mètodes per a poder crear objectes. D'aquest manera, un objecte és una instància d'una classe.</p>
<p>Tant les propietats com els mètodes es defineixen amb una visibilitat (qui pot accedir)</p>
<ul>
<li>Privat - <code>private</code>: Només pot accedir la pròpia classe.</li>
<li>Protegit - <code>protected</code>: Només pot accedir la pròpia classe o els seus descendents.</li>
<li>Público - <code>public</code>: Pot accedir qualsevol altra classe.</li>
</ul>
<p>Per a declarar una classe, s'utilitza la paraula clau <code>class</code> seguit del nom de la classe. Per a instanciar un objecte a partir de la classe, s'utilitza <code>new</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">NomClase</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span><span class="c1">// propiedades</span>
<span class="linenos" data-linenos="4 "></span><span class="c1">// y métodos</span>
<span class="linenos" data-linenos="5 "></span><span class="p">}</span>
<span class="linenos" data-linenos="6 "></span>
<span class="linenos" data-linenos="7 "></span><span class="nv">$ob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NomClase</span><span class="p">();</span>
</code></pre></div>
<div class="admonition important">
<p class="admonition-title">Classes amb majúscula</p>
</div>
<p>Totes les classes comencen per lletra majúscula.</p>
<p>Quan un projecte creix, és normal modelar les classes mitjançant UML (recordeu Entorns de Desenvolupament?). La classes es representen mitjançant un quadrat, separant el nom, de les propietats i els mètodes:</p>
<p><img alt="UML" src="imagenes/03/uml.png" width="500" /></p>
<p>Una vegada que hem creat un objecte, s'utilitza l'operador <code>-&gt;</code> per a accedir a una propietat o un mètode:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$objeto-&gt;propiedad;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$objeto-&gt;método(parámetros);</span>
</code></pre></div>
<p>Si des de dins de la classe, volem accedir a una propietat o mètode de la mateixa classe, utilitzarem la referència <code>$this</code>;</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$this-&gt;propiedad;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$this-&gt;método(parámetros);  </span>
</code></pre></div>
<p>Així doncs, com a exemple, codificaríem una persona en el fitxer <code>Persona.php</code> com:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Persona </span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setNombre</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nom</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="o">=</span><span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">imprimir</span><span class="p">(){</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">echo</span> <span class="s1">&#39;&lt;br&gt;&#39;</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span><span class="nv">$bruno </span><span class="o">=</span> <span class="k">new</span> <span class="nx">Persona</span><span class="p">();</span> <span class="c1">// creamos un objeto</span>
<span class="linenos" data-linenos="16 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">setNombre</span><span class="p">(</span><span class="s2">&quot;Bruno Díaz&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="17 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">imprimir</span><span class="p">();</span>
</code></pre></div>
<p>Encara que es poden declarar diverses classes en el mateix arxiu, és una mala pràctica. Així doncs, cada fitxer contedrá una sola classe, i es nomenarà amb el nom de la classe.</p>
<h3 id="principis-de-la-poo">📐 Principis de la POO<a class="headerlink" href="#principis-de-la-poo" title="Permanent link">&para;</a></h3>
<h4 id="encapsulacio">Encapsulació<a class="headerlink" href="#encapsulacio" title="Permanent link">&para;</a></h4>
<p>Les propietats es defineixen privades o protegides (si volem que les classes heretades puguen accedir).</p>
<p>Per a cada propietat, s'afigen mètodes públics (<em>getter/setter</em>):</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">public setPropiedad(tipo $param)</span>
<span class="linenos" data-linenos="2 "></span><span class="x">public getPropiedad() : tipo</span>
</code></pre></div>
<p>Les constants es defineixen públiques perquè siguen accessibles per tots els recursos.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">MayorMenor </span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span> <span class="nx">int</span> <span class="nv">$mayor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="nx">int</span> <span class="nv">$menor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setMayor</span><span class="p">(</span><span class="nx">int </span><span class="nv">$may</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mayor </span><span class="o">=</span> <span class="nv">$may</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setMenor</span><span class="p">(</span><span class="nx">int </span><span class="nv">$men</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menor </span><span class="o">=</span> <span class="nv">$men</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getMayor</span><span class="p">()</span> <span class="o">:</span> <span class="nx">int </span><span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mayor</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getMenor</span><span class="p">()</span> <span class="o">:</span> <span class="nx">int </span><span class="p">{</span>
<span class="linenos" data-linenos="19 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menor</span><span class="p">;</span>
<span class="linenos" data-linenos="20 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="21 "></span><span class="p">}</span>
</code></pre></div>
<h4 id="rebent-i-enviant-objectes">Rebent i enviant objectes<a class="headerlink" href="#rebent-i-enviant-objectes" title="Permanent link">&para;</a></h4>
<p>És recomanable indicar-ho en la mena de paràmetres. Si l'objecte pot retornar nuls es posa <code>?</code> davant del nom de la classe.</p>
<div class="admonition important">
<p class="admonition-title">Objectes per referència</p>
</div>
<p>Els objectes que s'envien i reben com a paràmetres sempre es passen per referència.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="hll"><span class="linenos" data-linenos=" 2 "></span><span class="k">function</span> <span class="nf">maymen</span><span class="p">(</span><span class="k">array</span> <span class="nv">$numeros</span><span class="p">)</span> <span class="o">:</span> <span class="o">?</span><span class="nx">MayorMenor </span><span class="p">{</span>
</span><span class="linenos" data-linenos=" 3 "></span>    <span class="nv">$a </span><span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nv">$numeros</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="nv">$b </span><span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nv">$numeros</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="nv">$result </span><span class="o">=</span> <span class="k">new</span> <span class="nx">MayorMenor</span><span class="p">();</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setMayor</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setMenor</span><span class="p">(</span><span class="nv">$b</span><span class="p">);</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span><span class="p">}</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span><span class="nv">$resultado </span><span class="o">=</span>  <span class="nx">maymen</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">388</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">22</span><span class="p">]);</span>
<span class="linenos" data-linenos="14 "></span><span class="k">echo</span> <span class="s2">&quot;&lt;br&gt;Mayor: &quot;</span><span class="o">.</span><span class="nv">$resultado</span><span class="o">-&gt;</span><span class="na">getMayor</span><span class="p">();</span>
<span class="linenos" data-linenos="15 "></span><span class="k">echo</span> <span class="s2">&quot;&lt;br&gt;Menor: &quot;</span><span class="o">.</span><span class="nv">$resultado</span><span class="o">-&gt;</span><span class="na">getMenor</span><span class="p">();</span>
</code></pre></div>
<h4 id="constructor">Constructor<a class="headerlink" href="#constructor" title="Permanent link">&para;</a></h4>
<p>El constructor dels objectes es defineix mitjançant el mètode màgic <code>__construct</code>.
Pot o no tindre paràmetres, però només pot haver-hi un únic constructor.</p>
<p>Una de les grans novetats que ofereix PHP 8 és la simplificació dels constructors amb paràmetres, la qual cosa es coneix com a promoció de les propietats del constructor*.</p>
<p>Per a això, en comptes d'haver de declarar les propietats com a privades o protegides, i després dins del constructor haver d'assignar els paràmetres a estàs propietats, el propi constructor promociona les propietats.</p>
<p>Vegem-ho millor amb un exemple. Imaginem una classe <code>Punt</code> on vulguem emmagatzemar les seues coordenades:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Punto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$x</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$y</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$z</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="nx">float</span> <span class="nv">$x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="nx">float</span> <span class="nv">$y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="10 "></span>        <span class="nx">float</span> <span class="nv">$z</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="12 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">x</span> <span class="o">=</span> <span class="nv">$x</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">y</span> <span class="o">=</span> <span class="nv">$y</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">z</span> <span class="o">=</span> <span class="nv">$z</span><span class="p">;</span>
<span class="linenos" data-linenos="15 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="16 "></span><span class="p">}</span>
</code></pre></div>
<p>En PHP 8, quedaria de la següent manera (molt més curt, la qual cosa facilita la seua llegibilitat):</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">Punto</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos="4 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="5 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="6 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$z</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="7 "></span>    <span class="p">)</span> <span class="p">{}</span>
<span class="linenos" data-linenos="8 "></span><span class="p">}</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">L'ordre importa</p>
</div>
<p>A l'hora de codificar l'ordre dels elements ha de ser:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>``` php
<span class="linenos" data-linenos=" 2 "></span>&lt;?php
<span class="linenos" data-linenos=" 3 "></span>declare(strict_types=1);
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>class NombreClase {
<span class="linenos" data-linenos=" 6 "></span>    // propiedades
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span>    // constructor
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span>    // getters - setters
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span>    // resto de métodos
<span class="linenos" data-linenos="13 "></span>}
<span class="linenos" data-linenos="14 "></span>?&gt;
<span class="linenos" data-linenos="15 "></span>```
</code></pre></div>
<h4 id="classes-estatiques">Classes estàtiques<a class="headerlink" href="#classes-estatiques" title="Permanent link">&para;</a></h4>
<p>Són aquelles que tenen propietats i/o mètodes estàtics (també es coneixen com <em>de classe</em>, perquè el seu valor es comparteix entre totes les instàncies de la mateixa classe).</p>
<p>Es declaren amb <code>static</code> i es referencien amb <code>::</code>.</p>
<ul>
<li>Si volem accedir a un mètode estàtic, s'anteposa el nom de la classe: <code>Producte::nuevoProducto()</code>.</li>
<li>Si des d'un mètode volem accedir a una propietat estàtica de la mateixa classe, s'utilitza la referència <code>self</code>: <code>self::$numProductos</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">const</span> <span class="no">IVA</span> <span class="o">=</span> <span class="mf">0.23</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="k">static</span> <span class="nv">$numProductos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">nuevoProducto</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nx">self</span><span class="o">::</span><span class="nv">$numProductos</span><span class="o">++</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="nx">Producto</span><span class="o">::</span><span class="na">nuevoProducto</span><span class="p">();</span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$impuesto</span> <span class="o">=</span> <span class="nx">Producto</span><span class="o">::</span><span class="na">IVA</span><span class="p">;</span>
</code></pre></div>
<p>També podem tindre classes normals que tinguen alguna propietat estàtica:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producto </span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">const</span> <span class="no">IVA </span><span class="o">=</span> <span class="mf">0.23</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="k">static</span> <span class="nv">$numProductos </span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">private</span> <span class="nv">$codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string </span><span class="nv">$cod</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="nx">self</span><span class="o">::</span><span class="nv">$numProductos</span><span class="o">++</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo </span><span class="o">=</span> <span class="nv">$cod</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string </span><span class="p">{</span>
<span class="linenos" data-linenos="13 "></span>        <span class="k">return</span> <span class="s2">&quot;El producto &quot;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="o">.</span><span class="s2">&quot; es el número &quot;</span><span class="o">.</span><span class="nx">self</span><span class="o">::</span><span class="nv">$numProductos</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="15 "></span><span class="p">}</span>
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span><span class="nv">$prod1 </span><span class="o">=</span> <span class="k">new</span> <span class="nx">Producto</span><span class="p">(</span><span class="s2">&quot;PS5&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="18 "></span><span class="nv">$prod2 </span><span class="o">=</span> <span class="k">new</span> <span class="nx">Producto</span><span class="p">(</span><span class="s2">&quot;XBOX Series X&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="19 "></span><span class="nv">$prod3 </span><span class="o">=</span> <span class="k">new</span> <span class="nx">Producto</span><span class="p">(</span><span class="s2">&quot;Nintendo Switch&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="20 "></span><span class="k">echo</span> <span class="nv">$prod3</span><span class="o">-&gt;</span><span class="na">mostrarResumen</span><span class="p">();</span>
</code></pre></div>
<h4 id="metodes-encadenats">Mètodes encadenats<a class="headerlink" href="#metodes-encadenats" title="Permanent link">&para;</a></h4>
<p>Segueix el plantejament de la programació funcional, i també es coneix com <em>method chaining</em>. Planteja que sobre un objecte es realitzen diverses crides.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$p1 </span><span class="o">=</span> <span class="k">new</span> <span class="nx">Libro</span><span class="p">();</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$p1</span><span class="o">-&gt;</span><span class="na">setNombre</span><span class="p">(</span><span class="s2">&quot;Harry Potter&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span><span class="nv">$p1</span><span class="o">-&gt;</span><span class="na">setAutor</span><span class="p">(</span><span class="s2">&quot;JK Rowling&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">echo</span> <span class="nv">$p1</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="c1">// Method chaining</span>
<span class="linenos" data-linenos=" 8 "></span><span class="nv">$p2 </span><span class="o">=</span> <span class="k">new</span> <span class="nx">Libro</span><span class="p">();</span>
<span class="linenos" data-linenos=" 9 "></span><span class="nv">$p2</span><span class="o">-&gt;</span><span class="na">setNombre</span><span class="p">(</span><span class="s2">&quot;Patria&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setAutor</span><span class="p">(</span><span class="s2">&quot;Aramburu&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="10 "></span><span class="k">echo</span> <span class="nv">$p2</span><span class="p">;</span>
</code></pre></div>
<p>Per a facilitar-ho, modificarem tots els seus mètodes mutants (que modifiquen dades, setters*, ...) perquè retornen una referència a <code>$this</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Libro </span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span> <span class="nx">string </span><span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="nx">string </span><span class="nv">$autor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getNombre</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string </span><span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setNombre</span><span class="p">(</span><span class="nx">string </span><span class="nv">$nombre</span><span class="p">)</span> <span class="o">:</span> <span class="nx">Libro </span><span class="p">{</span> 
<span class="linenos" data-linenos="10 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre </span><span class="o">=</span> <span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getAutor</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string </span><span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="17 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setAutor</span><span class="p">(</span><span class="nx">string </span><span class="nv">$autor</span><span class="p">)</span> <span class="o">:</span> <span class="nx">Libro </span><span class="p">{</span>
<span class="linenos" data-linenos="18 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor </span><span class="o">=</span> <span class="nv">$autor</span><span class="p">;</span>
<span class="linenos" data-linenos="19 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
<span class="linenos" data-linenos="20 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="21 "></span>
<span class="linenos" data-linenos="22 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__toString</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string </span><span class="p">{</span>
<span class="linenos" data-linenos="23 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="o">.</span><span class="s2">&quot; de &quot;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span><span class="p">;</span>
<span class="linenos" data-linenos="24 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="25 "></span><span class="p">}</span>
</code></pre></div>
<h4 id="metodes-magics">Mètodes màgics<a class="headerlink" href="#metodes-magics" title="Permanent link">&para;</a></h4>
<p>Totes les classes PHP ofereixen un conjunt de mètodes, també coneguts com <em>magic methods</em> que es poden sobreescriure per a substituir el seu comportament. Alguns d'ells ja els hem utilitzats.</p>
<p>Davant qualsevol dubte, és convenient consultar la <a href="https://www.php.net/manual/es/language.oop5.magic.php">documentació oficial</a>.</p>
<p>Els més destacables són:</p>
<ul>
<li><code>__construct()</code></li>
<li><code>__destruct()</code> → s'invoca en perdre la referència. S'utilitza per a tancar una connexió a la BD, tancar un fitxer, ...</li>
<li><code>__toString()</code> → representació de l'objecte com a cadena. És a dir, quan fem <code>echo $objecte</code> s'executa automàticament aquest mètode.</li>
<li><code>__get(propietat)</code>, <code>__set(propietat, valor)</code> → Permetria accedir a les propietat privades, encara que sempre és més llegible/mantenible codificar els <em>getter/setter</em>.</li>
<li><code>__isset(propietat)</code>, <code>__unset(propietat)</code> → Permet esbrinar o llevar el valor a una propietat.</li>
<li><code>__sleep()</code>, <code>__wakeup()</code> → S'executen en recuperar (<em>unserialize^) o emmagatzemar un objecte que se serialitza (</em>serialize), i s'utilitzen per a permet definir quines propietats se serialitzen.</li>
<li><code>__call()</code>, <code>__callStatic()</code> → S'executen en cridar a un mètode que no és públic. Permeten sobrecarreguen mètodes.</li>
</ul>
<h3 id="espai-de-noms">🗺️ Espai de noms<a class="headerlink" href="#espai-de-noms" title="Permanent link">&para;</a></h3>
<h4 id="espais-de-noms-namespaces">🧩 Espais de noms (Namespaces)<a class="headerlink" href="#espais-de-noms-namespaces" title="Permanent link">&para;</a></h4>
<p>Els <strong>espais de noms</strong> serveixen per <strong>organitzar les classes</strong> i evitar conflictes. Funcionen com els paquets a Java.</p>
<h5 id="com-es-declaren">Com es declaren<a class="headerlink" href="#com-es-declaren" title="Permanent link">&para;</a></h5>
<p>S’escriuen al principi del fitxer:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">namespace</span> <span class="nx">Dwes\Exemples</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>  <span class="k">public</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>  <span class="k">public</span> <span class="k">function</span> <span class="nf">mostra</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="k">echo</span> <span class="s2">&quot;Producte: &quot;</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>  <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
</code></pre></div>
<h5 id="com-sutilitzen">Com s'utilitzen<a class="headerlink" href="#com-sutilitzen" title="Permanent link">&para;</a></h5>
<p>Per a usar una classe d’un altre namespace:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">require &#39;Dwes/Exemples/Producte.php&#39;;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">use Dwes\Exemples\Producte;</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="x">$p = new Producte();</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">To <code>use</code> or not to <code>use</code></p>
</div>
<p>En resum, <code>use</code> permet accedir sense qualificar a recursos que estan en un altre <em>namespace</em>. Si estem en el mateix espai de nom, no necessitem <code>use</code>.</p>
<h4 id="composer-i-autoload">📦 Composer i autoload<a class="headerlink" href="#composer-i-autoload" title="Permanent link">&para;</a></h4>
<figure style="float: right;">
    <img src="imagenes/05/logo-composer.png" width="200">
    <figcaption>Logo Composer</figcaption>
</figure>

<p>Composer és una eina que:</p>
<ul>
<li>Instala paquets PHP (llibreries externes).</li>
<li>Crea un fitxer autoload.php per carregar les classes automàticament.</li>
</ul>
<h5 id="installacio">Instal·lació<a class="headerlink" href="#installacio" title="Permanent link">&para;</a></h5>
<p>Si estem usant XAMPP, hem d'instal·lar <em>Composer</em> en el propi sistema operatiu. Es recomana seguir les <a href="https://getcomposer.org/doc/00-intro.md">instruccions oficials</a> segons el sistema operatiu a emprar.</p>
<p>En canvi, si usem <em>Docker</em>, necessitem modificar la configuració del nostre contenidor. En el nostre cas, hem decidit modificar l'arxiu <code>Dockerfile</code> i afegir el següent comando:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">COPY</span><span class="w"> </span>--from<span class="o">=</span>composer:2.0<span class="w"> </span>/usr/bin/composer<span class="w"> </span>/usr/local/bin/composer
</code></pre></div>
<p>És important que dins del contenidor comprovem que tenim la v2:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>composer<span class="w"> </span>-V
</code></pre></div>
<h4 id="primers-passos">Primers passos<a class="headerlink" href="#primers-passos" title="Permanent link">&para;</a></h4>
<p>Quan creem un projecte per primera vegada, hem d'inicialitzar el repositori. Per a això, executarem el comando <code>composer init</code> on:</p>
<ul>
<li>Configurem el nom del paquet, descripció, autor (nom <email>), tipus de paquet (project), etc...</li>
<li>Definim les dependències del projecte (<code>require</code>) i les de desenvolupament (<code>require-dev</code>) de manera interactiva.</li>
<li>En les de desenvolupament s'indica aquelles que no s'instal·laran a l'entorn de producció, per exemple, les llibreries de proves.</li>
</ul>
<p>Després de la seua configuració, es crearà automàticament l'arxiu <code>composer.json</code> amb les dades introduïdes i descàrrega les llibreries en la carpeta <code>vendor</code>. La instal·lació de les llibreries sempre es realitza de manera local per a cada projecte.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="p">{</span>
<span class="linenos" data-linenos=" 2 "></span><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dwes/log&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Pruebas con Monolog&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 4 "></span><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;project&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span><span class="nt">&quot;require&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">        </span><span class="nt">&quot;monolog/monolog&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^2.1&quot;</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="p">},</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="nt">&quot;license&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MIT&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">    </span><span class="nt">&quot;authors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos" data-linenos="10 "></span><span class="w">        </span><span class="p">{</span>
<span class="linenos" data-linenos="11 "></span><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Aitor Medrano&quot;</span><span class="p">,</span>
<span class="linenos" data-linenos="12 "></span><span class="w">            </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a.medrano@edu.gva.es&quot;</span>
<span class="linenos" data-linenos="13 "></span><span class="w">        </span><span class="p">}</span>
<span class="linenos" data-linenos="14 "></span><span class="w">    </span><span class="p">]</span>
<span class="linenos" data-linenos="15 "></span><span class="p">}</span>
</code></pre></div>
<p>A l'hora d'indicar cada llibreria introduirem:</p>
<ul>
<li>el nom de la llibreria, composta tant pel creador o "vendor", com pel nom del projecte. Exemples: <code>monolog/monolog</code> o <code>laravel/installer</code>.</li>
<li>
<p>la versió de cada llibreria. Tenim diverses opcions per a indicar-la:</p>
<ul>
<li>Directament: 1.4.2</li>
<li>Amb comodins: 1.</li>
<li>A partir de: &gt;= 2.0.3</li>
<li>Sense trencament de canvis: ^1.3.2 // &gt;=1.3.2 &lt;2.0.0</li>
</ul>
</li>
</ul>
<h5 id="actualitzar-llibreries">Actualitzar llibreries<a class="headerlink" href="#actualitzar-llibreries" title="Permanent link">&para;</a></h5>
<p>Podem definir les dependències via l'arxiu <code>composer.json</code> o mitjançant comandos amb el format <code>composer require vendor/package:version</code>. Per exemple, si volem afegir phpUnit com a llibreria de desenvolupament, farem:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>composer<span class="w"> </span>require<span class="w"> </span>phpunit/phpunit<span class="w"> </span>–dev
</code></pre></div>
<p>Després d'afegir noves llibreries, hem d'actualitzar el nostre projecte:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>composer<span class="w"> </span>update
</code></pre></div>
<p>Si creem l'arxiu <code>composer.json</code> nosaltres directament sense inicialitzar el repositori, hem d'instal·lar les dependències:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>composer<span class="w"> </span>install
</code></pre></div>
<p>En fer aquest pas (tant instal·lar com actualitzar), com ja hem comentat, es descarreguen les llibreries en dins de la carpeta <code>vendor</code>. És molt important afegir aquesta carpeta a l'arxiu <code>.gitignore</code> per a no pujar-les a GitHub.</p>
<p>A més es crea l'arxiu <code>composer.lock</code>, que emmagatzema la versió exacta que s'ha instal·lat de cada llibreria (aquest arxiu no es toca).</p>
<h5 id="autoloadphp"><code>autoload.php</code><a class="headerlink" href="#autoloadphp" title="Permanent link">&para;</a></h5>
<p><em>Composer</em> crea de manera automàtica en <code>vendor/autoload.php</code> el codi per a incloure de manera automàtica totes les llibreries que tinguem configurades en <code>composer.json</code>.</p>
<p>Per a utilitzar-ho, en la capçalera del nostre arxius posarem:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">require</span> <span class="s1">&#39;vendor/autoload.php&#39;</span><span class="p">;</span>
</code></pre></div>
<p>En el nostre cas, de moment només el podrem en els arxius on provem les classes</p>
<p>Si volem que Composer també s'encarregue de carregar de manera automàtica les nostres classes de domini, dins de l'arxiu <code>composer.json</code>, definirem la propietat <code>autoload</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nt">&quot;autoload&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-linenos="2 "></span><span class="w">    </span><span class="nt">&quot;psr-4&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;Dwes\\&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;app/Dwes&quot;</span><span class="p">}</span>
<span class="linenos" data-linenos="3 "></span><span class="p">},</span>
</code></pre></div>
<p>Posteriorment, hem de tornar a generar el <em>autoload</em> de <em>Composer</em> mitjançant l'opció <code>dump-autoload</code> (o <code>du</code>):</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>composer<span class="w"> </span>dump-autoload
</code></pre></div>
<h3 id="gestio-de-dates-i-hores-amb-carbon">📅 Gestió de dates i hores amb Carbon<a class="headerlink" href="#gestio-de-dates-i-hores-amb-carbon" title="Permanent link">&para;</a></h3>
<h4 id="que-es-carbon">Què és Carbon?<a class="headerlink" href="#que-es-carbon" title="Permanent link">&para;</a></h4>
<p><strong>Carbon</strong> és una llibreria PHP que facilita el treball amb dates i hores. Està basada en l’extensió <code>DateTime</code> de PHP, però amb una sintaxi molt més senzilla i potent.</p>
<p>Es tracta d’una llibreria molt utilitzada en aplicacions modernes per formatar, manipular i calcular temps.</p>
<h4 id="installacio-amb-composer">Instal·lació amb Composer<a class="headerlink" href="#installacio-amb-composer" title="Permanent link">&para;</a></h4>
<p>Per a utilitzar Carbon en el nostre projecte, cal primer instal·lar-lo mitjançant Composer:</p>
<p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>composer<span class="w"> </span>require<span class="w"> </span>nesbot/carbon
</code></pre></div>
Una vegada instal·lat, ja la podem carregar automàticament amb l’autoloader de Composer.</p>
<h4 id="exemple-basic">Exemple bàsic<a class="headerlink" href="#exemple-basic" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$data = Carbon::now();</span>
<span class="linenos" data-linenos="2 "></span>
<span class="linenos" data-linenos="3 "></span><span class="x">echo $data-&gt;format(&#39;d/m/Y H:i&#39;); // 05/08/2025 11:45</span>
<span class="linenos" data-linenos="4 "></span><span class="x">echo $data-&gt;locale(&#39;ca&#39;)-&gt;isoFormat(&#39;dddd, D [de] MMMM [de] YYYY&#39;); // dilluns, 5 de agost de 2025</span>
</code></pre></div>
<h4 id="operacio-amb-dates">Operaciò amb dates<a class="headerlink" href="#operacio-amb-dates" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$ahir = Carbon::yesterday();</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$demà = Carbon::tomorrow();</span>
<span class="linenos" data-linenos="3 "></span><span class="x">$unaSetmanaDesprés = Carbon::now()-&gt;addWeek();</span>
<span class="linenos" data-linenos="4 "></span><span class="x">$fa3Dies = Carbon::now()-&gt;subDays(3);</span>
<span class="linenos" data-linenos="5 "></span>
<span class="linenos" data-linenos="6 "></span><span class="x">echo &quot;Ahir era: &quot; . $ahir;</span>
<span class="linenos" data-linenos="7 "></span><span class="x">echo &quot;Demà serà: &quot; . $demà;</span>
</code></pre></div>
<h4 id="comparacio-de-dates">Comparaciò de dates<a class="headerlink" href="#comparacio-de-dates" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$data1 = Carbon::parse(&#39;2025-08-05&#39;);</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$data2 = Carbon::parse(&#39;2025-09-01&#39;);</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="x">if ($data1-&gt;lt($data2)) {</span>
<span class="linenos" data-linenos="5 "></span><span class="x">echo &quot;$data1 és anterior a $data2&quot;;</span>
<span class="linenos" data-linenos="6 "></span><span class="x">}</span>
</code></pre></div>
<h3 id="gestio-dexempcions">🚫 Gestió d'Exempcions<a class="headerlink" href="#gestio-dexempcions" title="Permanent link">&para;</a></h3>
<p>La gestió d'excepcions forma part des de PHP 5. El seu funcionament és similar a Java*, fent ús d'un bloc <code>try / catch / finally</code>.
Si detectem una situació anòmala i volem llançar una excepció, haurem de realitzar <code>throw new Exception</code> (adjuntant el missatge que l'ha provocat).</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$divisor </span><span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="4 "></span>        <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span><span class="s2">&quot;División por cero.&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="5 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="6 "></span>    <span class="nv">$resultado </span><span class="o">=</span> <span class="nv">$dividendo </span><span class="o">/</span> <span class="nv">$divisor</span><span class="p">;</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception </span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="8 "></span>    <span class="k">echo</span> <span class="s2">&quot;Se ha producido el siguiente error: &quot;</span><span class="o">.</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div>
<p>La classe <code>Exception</code> és la classe pare de totes les excepcions. El seu constructor rep <code>missatge[,codigoError][,excepcionPrevia]</code>.</p>
<p>A partir d'un objecte <code>Exception</code>, podem accedir als mètodes <code>getMessage()</code>i <code>getCode()</code> per a obtindre el missatge i el codi d'error de l'excepció capturada.</p>
<p>El propi llenguatge ofereix un conjunt d'excepcions ja definides, les quals podem capturar (i llançar des de PHP 7). Es recomana la seua consulta en la <a href="https://www.php.net/manual/es/class.exception.php">documentació oficial</a>.</p>
<h4 id="creant-exempcions">Creant exempcions<a class="headerlink" href="#creant-exempcions" title="Permanent link">&para;</a></h4>
<p>Per a crear una excepció, la forma més curta és crear una classe que únicament herete de <code>Exception</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">HolaExcepcion extends Exception </span><span class="p">{}</span>
</code></pre></div>
<p>Si volem, i és recomanable depenent dels requisits, podem sobrecarregar els mètodes màgics, per exemple, sobrecarregant el constructor i cridant al constructor del pare, o reescriure el mètode <code>__toString</code> per a canviar el seu missatge:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">MiExcepcion extends Exception </span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$msj</span><span class="p">,</span> <span class="nv">$codigo </span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">Exception </span><span class="nv">$previa </span><span class="o">=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>        <span class="c1">// código propio</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$msj</span><span class="p">,</span> <span class="nv">$codigo</span><span class="p">,</span> <span class="nv">$previa</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__toString</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="k">return</span> <span class="no">__CLASS__</span> <span class="o">.</span> <span class="s2">&quot;: [</span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">code</span><span class="si">}</span><span class="s2">]: </span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">message</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">miFuncion</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">echo</span> <span class="s2">&quot;Una función personalizada para este tipo de excepción</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
</code></pre></div>
<p>Si definim una excepció d'aplicació dins d'un <em>namespace</em>, quan referenciem a <code>Exception</code>, haurem de referenciar-la mitjançant el seu nom totalment qualificat (<code>\Exception</code>), o utilitzant <code>use</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Mitjançant nom totalment qualificat</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">namespace</span> <span class="nx">\Dwes\Ejemplos</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">class</span> <span class="nc">AppExcepcion extends \Exception </span><span class="p">{}</span>
<span class="linenos" data-linenos=" 5 "></span> <span class="sb">```</span>
<span class="linenos" data-linenos=" 6 "></span><span class="sb">=== &quot;Mitjançant `</span><span class="k">use</span><span class="sb">`&quot;</span>
<span class="linenos" data-linenos=" 7 "></span><span class="sb">```</span> <span class="nx">php</span>
<span class="linenos" data-linenos=" 8 "></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="linenos" data-linenos=" 9 "></span><span class="k">namespace</span> <span class="nx">\Dwes\Ejemplos</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>    <span class="k">use</span> <span class="nx">Exception</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span>    <span class="k">class</span> <span class="nc">AppExcepcion extends Exception </span><span class="p">{}</span>
<span class="linenos" data-linenos="14 "></span> <span class="sb">```</span>
<span class="linenos" data-linenos="15 "></span>
<span class="linenos" data-linenos="16 "></span><span class="sb">#### Rellançar exempcions</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span><span class="sb">En les aplicacions reals, és molt comuna capturar una excepció de sistema i llançar una d&#39;aplicació que hem definit nostros.</span>
<span class="linenos" data-linenos="19 "></span><span class="sb">També podem llançar les excepcions sense necessitat d&#39;estar dins d&#39;un `</span><span class="k">try</span><span class="o">/</span><span class="k">catch</span><span class="sb">`.</span>
<span class="linenos" data-linenos="20 "></span>
<span class="linenos" data-linenos="21 "></span><span class="sb">```</span> <span class="nx">php</span>
<span class="linenos" data-linenos="22 "></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="linenos" data-linenos="23 "></span><span class="k">class</span> <span class="nc">AppException extends Exception </span><span class="p">{}</span>
<span class="linenos" data-linenos="24 "></span>
<span class="linenos" data-linenos="25 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos="26 "></span>    <span class="c1">// Código de negocio que falla</span>
<span class="linenos" data-linenos="27 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception </span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="28 "></span>    <span class="k">throw</span> <span class="k">new</span> <span class="nx">AppException</span><span class="p">(</span><span class="s2">&quot;AppException: &quot;</span><span class="o">.</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getCode</span><span class="p">(),</span> <span class="nv">$e</span><span class="p">);</span>
<span class="linenos" data-linenos="29 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="logger-amb-monolog">📜 Logger amb Monolog<a class="headerlink" href="#logger-amb-monolog" title="Permanent link">&para;</a></h3>
<p>Provarem <em>Composer</em> afegint la llibreria de <a href="https://github.com/seldaek/monolog"><em>Monolog</em></a> al nostre projecte. Es tracta d'un llibreria per a la gestió de logs de les nostres aplicacions, suportant diferents nivells (info, warning, etc...), eixides (fitxers, sockets, BBDD, Web Services, email, etc) i formats (text pla, HTML, JSON, etc...).</p>
<p>Per a això, inclourem la llibreria en el nostre projecte amb:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>composer<span class="w"> </span>require<span class="w"> </span>monolog/monolog
</code></pre></div>
<p>Monolog 2 requereix almenys PHP 7.2, compleix amb el estandar de logging PSR-3, i és la llibreria emprada per <em>Laravel</em> i <em>Symfony</em> per a la gestió de logs.</p>
<div class="admonition info">
<p class="admonition-title">Quan utilitzar un log</p>
</div>
<ul>
<li>Seguir les acciones/moviments dels usuaris</li>
<li>Registrar les transaccions</li>
<li>Rastrejar els errors d'usuari</li>
<li>Fallades/avisos a nivell de sistema</li>
<li>Interpretar i col·leccionar dades per a posterior investigació de patrons</li>
</ul>
<h4 id="nivells">Nivells<a class="headerlink" href="#nivells" title="Permanent link">&para;</a></h4>
<p>A continuació vam mostrar els diferents nivells de menys a més restrictiu:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>* debug -100: Informació detallada amb propòsits de debug. No usar en entorns de producció.
<span class="linenos" data-linenos="2 "></span>* info - 200: Esdeveniments interessants com l&#39;inici de sessió d&#39;usuaris.
<span class="linenos" data-linenos="3 "></span>* notice - 250: Esdeveniments normals però significatius.
<span class="linenos" data-linenos="4 "></span>* warning - 300: Ocurrències excepcionals que no arriben a ser error.
<span class="linenos" data-linenos="5 "></span>* error - 400: Errors d&#39;execució que permeten continuar amb l&#39;execució de l&#39;aplicació però que han de ser monitorats.
<span class="linenos" data-linenos="6 "></span>* critical - 500: Situacions importants on es generen excepcions no esperades o no hi ha disponible un component.
<span class="linenos" data-linenos="7 "></span>* alert - 550: S&#39;han de prendre mesures immediatament.
<span class="linenos" data-linenos="8 "></span>  Caiguda completa de la web, base de dades no disponible, etc... A més, se solen enviar missatges per email.
<span class="linenos" data-linenos="9 "></span>* emergency - 600: És l&#39;error més greu i indica que tot el sistema està inutilitzable.
</code></pre></div>
<h4 id="hola-monolog">Hola Monolog<a class="headerlink" href="#hola-monolog" title="Permanent link">&para;</a></h4>
<p>Per exemple, en l'arxiu <code>pruebaLog.php</code> que col·locaríem en l'arrel, primer incloem el <strong>autoload</strong>, importem els classes a utilitzar per a finalment usar els mètodes de <strong>Monolog</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">include</span> <span class="no">__DIR__</span> <span class="o">.</span><span class="s2">&quot;/vendor/autoload.php&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">use</span> <span class="nx">Monolog\Level</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">use</span> <span class="nx">Monolog\Logger</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span><span class="k">use</span> <span class="nx">Monolog\Handler\StreamHandler</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span><span class="nv">$log</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Logger</span><span class="p">(</span><span class="s2">&quot;MiLogger&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 9 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">pushHandler</span><span class="p">(</span><span class="k">new</span> <span class="nx">StreamHandler</span><span class="p">(</span><span class="s2">&quot;logs/milog.log&quot;</span><span class="p">,</span> <span class="nx">Level</span><span class="o">::</span><span class="na">Debug</span><span class="p">));</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">debug</span><span class="p">(</span><span class="s2">&quot;Esto es un mensaje de DEBUG&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="s2">&quot;Esto es un mensaje de INFO&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="13 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">warning</span><span class="p">(</span><span class="s2">&quot;Esto es un mensaje de WARNING&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="14 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">(</span><span class="s2">&quot;Esto es un mensaje de ERROR&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="15 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">critical</span><span class="p">(</span><span class="s2">&quot;Esto es un mensaje de CRITICAL&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="16 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">alert</span><span class="p">(</span><span class="s2">&quot;Esto es un mensaje de ALERT&quot;</span><span class="p">);</span>
</code></pre></div>
<p>En tots els mètodes de registre de missatges (<code>debug</code>, <code>info</code>, ...), a més del propi missatge, li podem passar informació com el contingut d'alguna variable, usuari de l'aplicació, etc.. com a segon paràmetre dins d'un array, el qual es coneix com <strong>array de contexte</strong>.
És convenient fer-ho mitjançant un array associatiu per a facilitar la lectura del log.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">warning</span><span class="p">(</span><span class="s2">&quot;Producto no encontrado&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nv">$producto</span><span class="p">]);</span>
<span class="linenos" data-linenos="3 "></span><span class="nv">$log</span><span class="o">-&gt;</span><span class="na">warning</span><span class="p">(</span><span class="s2">&quot;Producto no encontrado&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;datos&quot;</span> <span class="o">=&gt;</span> <span class="nv">$producto</span><span class="p">]);</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Més informació</p>
</div>
<p>Més informació sobre manejadores, formateadores i processadors en <a href="https://github.com/Seldaek/monolog/blob/master/doc/02-handlers-formatters-processors.md">https://github.com/Seldaek/monolog/blob/master/doc/02-handlers-formatters-processors.md</a></p>
<h2 id="annex-acces-a-fitxers">📎 Annex:  Accés a fitxers<a class="headerlink" href="#annex-acces-a-fitxers" title="Permanent link">&para;</a></h2>
<h3 id="funcions-basiques-de-php-per-a-fitxers">📄 Funcions bàsiques de PHP per a fitxers<a class="headerlink" href="#funcions-basiques-de-php-per-a-fitxers" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Funció</th>
<th>Descripció</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fopen()</code></td>
<td>Obri un fitxer.</td>
</tr>
<tr>
<td><code>fread()</code></td>
<td>Llig el contingut d’un fitxer.</td>
</tr>
<tr>
<td><code>fwrite()</code></td>
<td>Escriu dades en un fitxer.</td>
</tr>
<tr>
<td><code>fclose()</code></td>
<td>Tanca un fitxer obert.</td>
</tr>
<tr>
<td><code>file_exists()</code></td>
<td>Comprova si un fitxer existix.</td>
</tr>
<tr>
<td><code>unlink()</code></td>
<td>Elimina un fitxer.</td>
</tr>
</tbody>
</table>
<h3 id="modes-dobertura-de-fitxers">🔓 Modes d'obertura de fitxers<a class="headerlink" href="#modes-dobertura-de-fitxers" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Descripció</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>r</code></td>
<td>Llig només. El punter es col·loca al principi del fitxer.</td>
</tr>
<tr>
<td><code>w</code></td>
<td>Escriure només. Es crea o truncat si ja existix.</td>
</tr>
<tr>
<td><code>a</code></td>
<td>Afegeix al final del fitxer. El crea si no existix.</td>
</tr>
<tr>
<td><code>r+</code></td>
<td>Llig i escriu. No crea el fitxer si no existix.</td>
</tr>
<tr>
<td><code>w+</code></td>
<td>Llig i escriu. Trunca el fitxer o el crea de nou.</td>
</tr>
<tr>
<td><code>a+</code></td>
<td>Llig i escriu. Afegeix al final si el fitxer existix.</td>
</tr>
</tbody>
</table>
<h4 id="exemple-basic_1">Exemple bàsic<a class="headerlink" href="#exemple-basic_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$fitxer</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s2">&quot;dades.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">fwrite</span><span class="p">(</span><span class="nv">$fitxer</span><span class="p">,</span> <span class="s2">&quot;Hola món!&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">fclose</span><span class="p">(</span><span class="nv">$fitxer</span><span class="p">);</span>
<span class="linenos" data-linenos="5 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<p>Aquest codi crea (o substitueix) un fitxer anomenat dades.txt i escriu el text "Hola món!" dins d'ell.</p>
<h4 id="consideracions-de-seguretat_1">Consideracions de seguretat<a class="headerlink" href="#consideracions-de-seguretat_1" title="Permanent link">&para;</a></h4>
<ul>
<li>Comprova sempre si el fitxer existix abans de llegir o escriure.</li>
<li>Utilitza rutes relatives i evita permetre a l’usuari introduir noms de fitxer directament.</li>
<li>Gestiona correctament els errors amb file_exists(), is_readable(), is_writable().</li>
</ul>
<h3 id="llegir-fitxer-linia-a-linia">📄 Llegir fitxer línia a línia<a class="headerlink" href="#llegir-fitxer-linia-a-linia" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$fitxer</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s2">&quot;dades.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">feof</span><span class="p">(</span><span class="nv">$fitxer</span><span class="p">))</span> <span class="p">{</span>
<span class="linenos" data-linenos="5 "></span>    <span class="nv">$linia</span> <span class="o">=</span> <span class="nb">fgets</span><span class="p">(</span><span class="nv">$fitxer</span><span class="p">);</span>
<span class="linenos" data-linenos="6 "></span>    <span class="k">echo</span> <span class="nv">$linia</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span>
<span class="linenos" data-linenos="8 "></span>
<span class="linenos" data-linenos="9 "></span><span class="nb">fclose</span><span class="p">(</span><span class="nv">$fitxer</span><span class="p">);</span>
</code></pre></div>
<p>La funció fgets() llig una línia de text. La funció feof() comprova si s’ha arribat al final del fitxer.</p>
<h3 id="escriure-multiples-linies">✍️ Escriure múltiples línies<a class="headerlink" href="#escriure-multiples-linies" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$fitxer</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s2">&quot;registre.log&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$linies</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Primera línia&quot;</span><span class="p">,</span> <span class="s2">&quot;Segona línia&quot;</span><span class="p">,</span> <span class="s2">&quot;Tercera línia&quot;</span><span class="p">];</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$linies</span> <span class="k">as</span> <span class="nv">$linia</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="nb">fwrite</span><span class="p">(</span><span class="nv">$fitxer</span><span class="p">,</span> <span class="nv">$linia</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
<span class="linenos" data-linenos=" 7 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span><span class="nb">fclose</span><span class="p">(</span><span class="nv">$fitxer</span><span class="p">);</span>
<span class="linenos" data-linenos="10 "></span><span class="cp">?&gt;</span>
</code></pre></div>
PHP_EOL assegura que el salt de línia siga compatible amb el sistema operatiu.</p>
<h3 id="gestio-de-directoris">📁 Gestió de directoris<a class="headerlink" href="#gestio-de-directoris" title="Permanent link">&para;</a></h3>
<h4 id="crear-un-directori">Crear un directori<a class="headerlink" href="#crear-un-directori" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">is_dir</span><span class="p">(</span><span class="s2">&quot;documents&quot;</span><span class="p">))</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="nb">mkdir</span><span class="p">(</span><span class="s2">&quot;documents&quot;</span><span class="p">,</span> <span class="mo">0755</span><span class="p">);</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>
<span class="linenos" data-linenos="5 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<p>mkdir() crea un directori amb els permisos indicats. is_dir() comprova si ja existix.</p>
<h4 id="llistar-el-contingut-dun-directori">Llistar el contingut d’un directori<a class="headerlink" href="#llistar-el-contingut-dun-directori" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$directori</span> <span class="o">=</span> <span class="nb">opendir</span><span class="p">(</span><span class="s2">&quot;documents&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">while</span> <span class="p">((</span><span class="nv">$fitxer</span> <span class="o">=</span> <span class="nb">readdir</span><span class="p">(</span><span class="nv">$directori</span><span class="p">))</span> <span class="o">!==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$fitxer</span> <span class="o">!=</span> <span class="s2">&quot;.&quot;</span> <span class="o">&amp;&amp;</span> <span class="nv">$fitxer</span> <span class="o">!=</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">echo</span> <span class="nv">$fitxer</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="nb">closedir</span><span class="p">(</span><span class="nv">$directori</span><span class="p">);</span>
</code></pre></div>
<h4 id="eliminar-fitxers-i-directoris">Eliminar fitxers i directoris<a class="headerlink" href="#eliminar-fitxers-i-directoris" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">file_exists</span><span class="p">(</span><span class="s2">&quot;documents/antiga.txt&quot;</span><span class="p">))</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="nb">unlink</span><span class="p">(</span><span class="s2">&quot;documents/antiga.txt&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>
<span class="linenos" data-linenos="5 "></span>
<span class="linenos" data-linenos="6 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">is_dir</span><span class="p">(</span><span class="s2">&quot;documents/buid&quot;</span><span class="p">))</span> <span class="p">{</span>
<span class="linenos" data-linenos="7 "></span>    <span class="nb">rmdir</span><span class="p">(</span><span class="s2">&quot;documents/buid&quot;</span><span class="p">);</span>
<span class="linenos" data-linenos="8 "></span><span class="p">}</span>
<span class="linenos" data-linenos="9 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<h2 id="exercicis">Exercicis<a class="headerlink" href="#exercicis" title="Permanent link">&para;</a></h2>
<h3 id="bateria-dexercicis-solucionats-per-a-la-unitat-de-php">🧩 Bateria d'Exercicis Solucionats per a la Unitat de PHP<a class="headerlink" href="#bateria-dexercicis-solucionats-per-a-la-unitat-de-php" title="Permanent link">&para;</a></h3>
<p>Hi ha un repositori preparat amb les <a href="https://github.com/Curs-2025-26/SA2.Exemples">solucions</a>.</p>
<h4 id="enunciat-dels-exercicis">Enunciat dels exercicis<a class="headerlink" href="#enunciat-dels-exercicis" title="Permanent link">&para;</a></h4>
<p>Escriu els següent programes: </p>
<h5 id="1-hola-mon">1. 'Hola món'<a class="headerlink" href="#1-hola-mon" title="Permanent link">&para;</a></h5>
<ul>
<li>Declare una variable amb el teu nom.</li>
<li>Mostre en pantalla un missatge com ara:  “Hola, món! , Ignasi” dins d’una etiqueta HTML  utilitzant echo.</li>
</ul>
<p>Pots combinar text i variables utilitzant el signe de concatenació (.).</p>
<h5 id="2-variables">2. 'Variables'<a class="headerlink" href="#2-variables" title="Permanent link">&para;</a></h5>
<ul>
<li>Declare una variable $a amb el valor numèric 5.</li>
<li>Declare una altra variable $b amb el valor "10" (cadena).</li>
<li>Mostre per pantalla el resultat de sumar $a + $b dins d’una frase com: “Suma: 15”, utilitzant echo.</li>
</ul>
<p>Observa com PHP converteix automàticament el valor de la cadena "10" a nombre.</p>
<h5 id="3-cometes-simples-vs-dobles">3. 'Cometes simples vs dobles'<a class="headerlink" href="#3-cometes-simples-vs-dobles" title="Permanent link">&para;</a></h5>
<ul>
<li>Declare una variable $name amb el teu nom.</li>
<li>
<p>Mostre dues frases amb echo:</p>
<ul>
<li>Una utilitzant cometes dobles, on s’imprimisca el contingut de la variable.</li>
<li>Una altra utilitzant cometes simples, on s’imprimisca literalment $name.</li>
</ul>
<p>Ex.:
Hola, Ignasi!
Hola, $name!</p>
</li>
</ul>
<h5 id="4-condicional-basic">4. 'Condicional bàsic'<a class="headerlink" href="#4-condicional-basic" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una variable <code>$edat</code> amb un valor numèric.</li>
<li>Utilitza una estructura condicional <code>if</code> per:<ul>
<li>Mostrar un missatge si l’edat és negativa: <code>"Edat invàlida"</code>.</li>
<li>Si és igual o major de 18, mostrar <code>"Ets major d'edat"</code>.</li>
<li>Si no, mostrar <code>"Ets menor d'edat"</code>.</li>
</ul>
</li>
</ul>
<h5 id="5-arrays-i-bucles">5. 'Arrays i bucles'<a class="headerlink" href="#5-arrays-i-bucles" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea un array anomenat <code>$fruites</code> amb tres valors inicials: <code>"poma"</code>, <code>"plàtan"</code> i <code>"maduixa"</code>.</li>
<li>Mostra per pantalla el primer element de l’array.</li>
<li>Afegeix un nou element <code>"taronja"</code> a l’array.</li>
<li>Recorre l’array complet amb un bucle <code>foreach</code> i mostra cada fruita en una línia separada.</li>
</ul>
<h5 id="6-estructures-match">6. 'Estructures <code>match</code>'<a class="headerlink" href="#6-estructures-match" title="Permanent link">&para;</a></h5>
<ul>
<li>Declara una variable <code>$nota</code> amb un valor entre 0 i 10.</li>
<li>Utilitza l’estructura <code>match (true)</code> per assignar un resultat segons el valor:<ul>
<li><code>10</code> → <code>"Excel·lent"</code></li>
<li>Entre <code>8</code> i <code>9</code> → <code>"Molt bé"</code></li>
<li>Entre <code>5</code> i <code>7</code> → <code>"Bé"</code></li>
<li>Per defecte → <code>"Insuficient"</code></li>
</ul>
</li>
<li>
<p>Mostra el resultat per pantalla.</p>
</li>
<li>
<p>Declara una variable <code>$producte</code> amb algun dels següents valors: <code>"pa"</code>, <code>"llet"</code>, <code>"formatge"</code>.</p>
</li>
<li>Usa un altre <code>match</code> per assignar un preu a cada producte.</li>
<li>Mostra per pantalla el missatge: <code>"El preu de formatge és 2.5 euros."</code></li>
</ul>
<h5 id="7-informacio-del-servidor-amb-_server">7. 'Informació del servidor amb <code>$_SERVER</code>'<a class="headerlink" href="#7-informacio-del-servidor-amb-_server" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una pàgina HTML amb títol "Informació del Servidor".</li>
<li>Mostra diferents dades utilitzant l’array especial <code>$_SERVER</code>:<ul>
<li>Nom del servidor (<code>SERVER_NAME</code>)</li>
<li>Adreça IP del servidor (<code>SERVER_ADDR</code>)</li>
<li>Software del servidor (<code>SERVER_SOFTWARE</code>)</li>
<li>Agent d'usuari del client (<code>HTTP_USER_AGENT</code>)</li>
<li>Mètode de la sol·licitud (<code>REQUEST_METHOD</code>)</li>
<li>URL de la sol·licitud (<code>REQUEST_URI</code>)</li>
<li>Referent de la pàgina (<code>HTTP_REFERER</code>)</li>
<li>Protocol utilitzat (<code>SERVER_PROTOCOL</code>)</li>
<li>Port utilitzat (<code>SERVER_PORT</code>)</li>
</ul>
</li>
<li>Assegura't de controlar si alguna clau no està disponible, com per exemple el <code>HTTP_REFERER</code>.</li>
</ul>
<h5 id="8-formulari-de-contacte-amb-validacio">8. 'Formulari de contacte amb validació'<a class="headerlink" href="#8-formulari-de-contacte-amb-validacio" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una pàgina HTML amb un formulari que demane:<ul>
<li>Una adreça de correu electrònic (<code>email</code>)</li>
<li>Un missatge (<code>textarea</code>)</li>
</ul>
</li>
<li>El formulari s’ha d’enviar mitjançant el mètode POST i validar:<ul>
<li>Que el camp <code>email</code> conté una adreça vàlida (<code>FILTER_VALIDATE_EMAIL</code>)</li>
<li>Que els camps no estiguen buits (usa <code>required</code> en HTML i valida amb PHP)</li>
</ul>
</li>
<li>Mostra un missatge de confirmació si tot és correcte, o d’error si el correu no és vàlid.</li>
<li>Assegura’t de protegir el contingut rebut amb <code>htmlspecialchars()</code> per evitar problemes de seguretat.</li>
</ul>
<h5 id="9-formulari-amb-validacio-i-missatges-derror">9. 'Formulari amb validació i missatges d’error'<a class="headerlink" href="#9-formulari-amb-validacio-i-missatges-derror" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea un formulari que demane:<ul>
<li>El nom de l’usuari (<code>input text</code>)</li>
<li>El correu electrònic (<code>input text</code>)</li>
</ul>
</li>
<li>Afegeix validació en PHP perquè:<ul>
<li>Cap dels camps estiga buit</li>
<li>El correu siga vàlid (<code>FILTER_VALIDATE_EMAIL</code>)</li>
</ul>
</li>
<li>Mostra missatges d’error en cas de validació incorrecta (en color roig).</li>
<li>Si les dades són correctes, mostra-les en pantalla.</li>
<li>Assegura’t de:<ul>
<li>Utilitzar <code>htmlspecialchars()</code> i <code>trim()</code> per netejar les entrades</li>
<li>Mantenir les dades escrites en el formulari si hi ha errors (<strong>sticky form</strong>)</li>
</ul>
</li>
</ul>
<h5 id="10-pujar-fitxer-i-seleccionar-opcio">10. 'Pujar fitxer i seleccionar opció'<a class="headerlink" href="#10-pujar-fitxer-i-seleccionar-opcio" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea un formulari que permeta:<ul>
<li>Pujar un fitxer (input <code>file</code>)</li>
<li>Seleccionar una opció d’entre diverses (checkbox)</li>
</ul>
</li>
<li>El formulari ha de validar:<ul>
<li>Que el fitxer ha estat pujat correctament</li>
<li>Que almenys una opció ha estat seleccionada</li>
</ul>
</li>
<li>Mostra per pantalla:<ul>
<li>Nom, tipus, mida i ubicació del fitxer</li>
<li>L’opció seleccionada pel usuari</li>
</ul>
</li>
<li>El fitxer pujat s’ha de moure a una carpeta anomenada <code>uploads/</code> dins del projecte.</li>
<li>Utilitza <code>move_uploaded_file()</code> per traslladar-lo de la ubicació temporal a la definitiva.</li>
</ul>
<h5 id="11-comptador-de-visites-amb-sessio">11. 'Comptador de visites amb sessió'<a class="headerlink" href="#11-comptador-de-visites-amb-sessio" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea un script que utilitze sessions per comptar quantes vegades un usuari ha visitat la pàgina.<ul>
<li>Si és la primera vegada, mostra <code>"Has visitat esta pàgina 1 vegada."</code></li>
<li>Si ja ha visitat abans, incrementa el comptador i mostra el nombre de visites.</li>
</ul>
</li>
<li>Afegeix un botó que permeta <strong>reiniciar</strong> el comptador. En fer clic:<ul>
<li>S’ha de destruir la sessió</li>
<li>Redirigir a la mateixa pàgina per tornar a començar</li>
</ul>
</li>
</ul>
<h5 id="12-cistella-de-la-compra-i-afegir-productes">12. 'Cistella de la compra (I): Afegir productes'<a class="headerlink" href="#12-cistella-de-la-compra-i-afegir-productes" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una pàgina amb un formulari on es puga introduir el nom d’un producte.</li>
<li>Quan s’envia el formulari:<ul>
<li>Guarda el producte dins d’una variable de sessió anomenada <code>$_SESSION["cistella"]</code></li>
<li>Redirigeix l’usuari a una pàgina anomenada <code>02_cistella_veure.php</code></li>
</ul>
</li>
<li>Inclou un enllaç que permeta accedir a la pàgina de visualització de la cistella.</li>
</ul>
<h5 id="13-cistella-de-la-compra-ii-veure-i-buidar">13. 'Cistella de la compra (II): Veure i buidar'<a class="headerlink" href="#13-cistella-de-la-compra-ii-veure-i-buidar" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una pàgina que mostre els productes emmagatzemats en la variable de sessió <code>$_SESSION["cistella"]</code>.<ul>
<li>Si no hi ha cap producte, mostra un missatge indicant-ho.</li>
<li>Si n’hi ha, mostra’ls en una llista.</li>
</ul>
</li>
<li>Inclou un botó per buidar la cistella:<ul>
<li>Si es prem, elimina <code>$_SESSION["cistella"]</code></li>
<li>Redirigeix a la mateixa pàgina per actualitzar el contingut</li>
</ul>
</li>
</ul>
<h5 id="14-sistema-basic-dautenticacio-amb-sessio">14. 'Sistema bàsic d’autenticació amb sessió'<a class="headerlink" href="#14-sistema-basic-dautenticacio-amb-sessio" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea un formulari de login amb els camps:<ul>
<li>Usuari (<code>usuari</code>)</li>
<li>Contrasenya (<code>clau</code>)</li>
</ul>
</li>
<li>Valida els camps amb valors fixos, per exemple:<ul>
<li>Usuari: <code>admin</code></li>
<li>Clau: <code>1234</code></li>
</ul>
</li>
<li>Si les dades són correctes:<ul>
<li>Guarda l’estat de login a la sessió (<code>$_SESSION["login"]</code>)</li>
<li>Guarda també el nom de l’usuari</li>
<li>Redirigeix a la mateixa pàgina</li>
</ul>
</li>
<li>Si són incorrectes, mostra un missatge d’error.</li>
<li>Si l’usuari està identificat:<ul>
<li>Mostra un missatge de benvinguda amb el nom d’usuari</li>
<li>Mostra un enllaç per a tancar sessió, que destruïsca la sessió i redirigisca</li>
</ul>
</li>
</ul>
<h5 id="15-recordar-nom-amb-cookies">15. 'Recordar nom amb cookies'<a class="headerlink" href="#15-recordar-nom-amb-cookies" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una pàgina amb un formulari que demane el nom de l’usuari.</li>
<li>Quan s’envie el formulari:<ul>
<li>Guarda el nom en una cookie amb duració d’1 hora.</li>
<li>Redirigeix a la mateixa pàgina.</li>
</ul>
</li>
<li>Quan es carregue la pàgina:<ul>
<li>Si existeix la cookie, mostra un missatge de benvinguda amb el nom.</li>
<li>Mostra el valor de la cookie com a valor per defecte en l’input (<code>sticky form</code>).</li>
</ul>
</li>
</ul>
<h5 id="16-preferencia-de-tema-amb-cookies">16. 'Preferència de tema amb cookies'<a class="headerlink" href="#16-preferencia-de-tema-amb-cookies" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una pàgina que permeta a l’usuari seleccionar entre dos temes: <code>"clar"</code> i <code>"fosc"</code>.</li>
<li>Quan l’usuari selecciona un tema, guarda la selecció en una cookie amb duració d’1 dia.</li>
<li>Aplica l’estil CSS corresponent segons el valor de la cookie:<ul>
<li>Tema <code>"clar"</code>: fons blanc, text negre.</li>
<li>Tema <code>"fosc"</code>: fons fosc, text clar.</li>
</ul>
</li>
<li>Redirigeix automàticament després de canviar el tema per aplicar-lo.</li>
</ul>
<h5 id="17-gestio-de-productes-amb-fitxer-csv">17. 'Gestió de productes amb fitxer CSV'<a class="headerlink" href="#17-gestio-de-productes-amb-fitxer-csv" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea un formulari que permeta afegir productes amb:<ul>
<li>Nom del producte (<code>text</code>)</li>
<li>Preu (<code>number</code>)</li>
</ul>
</li>
<li>Quan s’envie el formulari:<ul>
<li>Guarda les dades en un fitxer <code>productes.csv</code> en format CSV.</li>
<li>Mostra un missatge si s’ha afegit correctament o si falta algun camp.</li>
</ul>
</li>
<li>Mostra una taula amb tots els productes emmagatzemats al fitxer:<ul>
<li>Llig el fitxer <code>productes.csv</code></li>
<li>Mostra una taula amb les columnes: <code>Nom</code> i <code>Preu (€)</code></li>
</ul>
</li>
</ul>
<h5 id="18-classe-usuari-i-metodes">18. 'Classe <code>Usuari</code> i mètodes'<a class="headerlink" href="#18-classe-usuari-i-metodes" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una classe anomenada <code>Usuari</code> amb atributs privats:<ul>
<li><code>$nom</code>, <code>$email</code>  </li>
</ul>
</li>
<li>Afegeix un constructor que inicialitze <code>$nom</code>, <code>$email</code> .</li>
<li>
<p>Afegeix els mètodes públics següents:</p>
<ul>
<li><code>saluda()</code>: retorna un missatge com: <code>"Hola, sóc Ignasi i el meu email és ignasi@example.com"</code></li>
</ul>
</li>
<li>
<p>Prova la classe creant una instància i cridant als mètodes <code>saluda()</code> i <code>validar()</code>.</p>
</li>
</ul>
<h5 id="19-instanciacio-i-us-duna-classe">19. 'Instanciació i ús d’una classe'<a class="headerlink" href="#19-instanciacio-i-us-duna-classe" title="Permanent link">&para;</a></h5>
<ul>
<li>Inclou el fitxer <code>Usuari.php</code> on es defineix la classe <code>Usuari</code>.</li>
<li>Crea una instància de la classe amb nom <code>"Pau"</code> i email <code>"pau@example.com"</code>.</li>
<li>Mostra el resultat del mètode <code>saluda()</code> per pantalla.</li>
<li>Assegura’t que has utilitzat <code>require_once</code> per incloure la definició de la classe.</li>
</ul>
<h5 id="20-classe-producte-amb-constructor-i-metode">20. 'Classe <code>Producte</code> amb constructor i mètode'<a class="headerlink" href="#20-classe-producte-amb-constructor-i-metode" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una classe anomenada <code>Producte</code> amb dos atributs públics:<ul>
<li><code>$nom</code> i <code>$preu</code></li>
</ul>
</li>
<li>Afegeix un constructor per inicialitzar els atributs.</li>
<li>Afegeix un mètode públic <code>mostrar()</code> que retorne una cadena amb el format:<ul>
<li><code>"Nom - Preu€"</code> (per exemple: <code>"Formatge - 2.5€"</code>)</li>
</ul>
</li>
<li>Crea una instància de <code>Producte</code> i mostra el resultat del mètode <code>mostrar()</code>.</li>
</ul>
<h5 id="21-us-duna-classe-amb-try-catch">21. 'Ús d’una classe amb <code>try-catch</code>'<a class="headerlink" href="#21-us-duna-classe-amb-try-catch" title="Permanent link">&para;</a></h5>
<ul>
<li>Inclou el fitxer <code>Producte.php</code> on es defineix la classe <code>Producte</code>.</li>
<li>Crea una instància amb els valors <code>"Portàtil"</code> i <code>799.99</code>.</li>
<li>Mostra el resultat del mètode <code>mostrar()</code> per pantalla.</li>
<li>Encapsula la creació i ús de l’objecte dins d’un bloc <code>try-catch</code>.<ul>
<li>En cas d’error, mostra el missatge capturat amb <code>getMessage()</code>.</li>
</ul>
</li>
</ul>
<h5 id="22-login-amb-sessio-i-classe-usuari">22. 'Login amb sessió i classe <code>Usuari</code>'<a class="headerlink" href="#22-login-amb-sessio-i-classe-usuari" title="Permanent link">&para;</a></h5>
<ul>
<li>Afegeix a la classe <code>Usuari</code> la propietat $clau (modifica el constructor) i els mètodes:<ul>
<li><code>validar($usuari, $clau)</code></li>
<li><code>getNom()</code></li>
</ul>
</li>
<li>Crea un script de login que:<ul>
<li>Cree un objecte <code>Usuari</code> amb valors fixos (p. ex. <code>"admin"</code>, <code>"1234"</code>)</li>
<li>Valide les dades del formulari POST utilitzant el mètode <code>validar()</code></li>
<li>Si les dades són correctes, guarde l’estat en <code>$_SESSION</code> i redirigisca</li>
<li>Si no, mostre un error</li>
</ul>
</li>
<li>Mostra un formulari si l’usuari no està loguejat i un missatge de benvinguda si ho està.</li>
<li>Afig un enllaç per tancar sessió que:<ul>
<li>Elimine la sessió</li>
<li>Redirigisca a la mateixa pàgina</li>
</ul>
</li>
</ul>
<h5 id="23-classe-amb-namespace-personalitzat">23. 'Classe amb namespace personalitzat'<a class="headerlink" href="#23-classe-amb-namespace-personalitzat" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea una classe anomenada <code>Salutador</code> dins del namespace <code>App</code>.</li>
<li>Afegeix un mètode públic <code>diu($nom)</code> que retorne <code>"Hola, $nom!"</code></li>
<li>Desa la classe dins d’un fitxer adequat, seguint l’estructura de carpetes segons PSR-4.</li>
<li>Prova la classe des d’un fitxer a part utilitzant:<ul>
<li><code>require 'vendor/autoload.php';</code></li>
<li><code>use App\Salutador;</code></li>
</ul>
</li>
</ul>
<h5 id="24-us-de-classe-amb-autoload-i-use">24. 'Ús de classe amb autoload i <code>use</code>'<a class="headerlink" href="#24-us-de-classe-amb-autoload-i-use" title="Permanent link">&para;</a></h5>
<ul>
<li>Crea un fitxer <code>index.php</code> dins d’una carpeta <code>public/</code>.</li>
<li>Assegura’t que utilitza l’autoload generat per Composer:<ul>
<li><code>require __DIR__ . '/../vendor/autoload.php';</code></li>
</ul>
</li>
<li>Importa la classe <code>Salutador</code> mitjançant <code>use App\Salutador</code>.</li>
<li>Crea una instància i crida al mètode <code>diu("Anna")</code> per mostrar el missatge.</li>
</ul>
<h3 id="projecte-el-penjat">🎯 Projecte "El penjat"<a class="headerlink" href="#projecte-el-penjat" title="Permanent link">&para;</a></h3>
<h4 id="repositori">Repositori<a class="headerlink" href="#repositori" title="Permanent link">&para;</a></h4>
<p><a href="https://classroom.github.com/a/fq57XZGD">Grup A</a></p>
<h4 id="entrega-1">Entrega 1<a class="headerlink" href="#entrega-1" title="Permanent link">&para;</a></h4>
<p>Implementa una versió simplificada del joc "L'Ofegat" utilitzant HTML i PHP. El joc ha de permetre als jugadors endevinar les lletres d'una paraula predefinida i mostrar l'estat actual de les lletres endevinades. No és necessari mantenir l'estat del joc entre sol·licituds ni comprovar si s'han esgotat els intents en aquesta fase inicial.</p>
<p><strong>Requisits:</strong></p>
<ol>
<li><strong>Paraula a Endevinar:</strong><ul>
<li>Defineix una paraula predefinida a endevinar.</li>
</ul>
</li>
<li><strong>Inicialització de les Lletres Endevinades:</strong><ul>
<li>Crea un array amb guions baixos per representar les lletres que l'usuari ha de trobar.</li>
<li>Crea una funció per imprimir este array i que serà el que ens mostre el progres del joc. <strong>(les funcions aniran en un fitxer a part)</strong></li>
</ul>
</li>
<li><strong>Funció per a Comprovar Intents:</strong><ul>
<li>Crea una funció en PHP que prenga la paraula a endevinar, la lletra introduïda per l'usuari i l'array de lletres endevinades (passat per referència).</li>
<li>La funció ha de comprovar si la lletra introduïda per l'usuari forma part de la paraula.</li>
<li>Si la lletra és correcta, la funció substituirà els guions baixos per la lletra corresponent.</li>
<li>La funció retornarà un valor booleà que indique si la lletra és errònia o no.</li>
<li>Fes proves de la funció per comprovar que funciona correctament.</li>
</ul>
</li>
<li><strong>Comprovació d'Intents:</strong><ul>
<li>Utilitza la funció creada per comprovar si la lletra introduïda per l'usuari forma part de la paraula.</li>
<li>Mostra un missatge d'error si la lletra no és correcta.</li>
</ul>
</li>
<li><strong>Interfície d'Usuari:</strong><ul>
<li>Mostra les lletres introduïdes per l'usuari fins al moment en color verd si són encertades o roig si són errades.</li>
<li>Mostra les errades de l'usuari.</li>
<li>Crea un formulari HTML que permeta als jugadors introduir una lletra.</li>
</ul>
</li>
</ol>
<p><strong>Codi CSS Proporcionat</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="p">.</span><span class="nc">correct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">green</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="linenos" data-linenos="2 "></span><span class="p">.</span><span class="nc">incorrect</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Criteri</th>
<th>Puntuació Total</th>
<th>Complet(2)</th>
<th>Incomplet(1)</th>
<th>Insuficient(0)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Inicialització de les variables</strong> (2.dg)</td>
<td>2</td>
<td>Paraula i Array creat correctament</td>
<td>Creats però amb errors</td>
<td>No s'ha creat l'array</td>
</tr>
<tr>
<td><strong>Funció per a Comprovar Intents</strong> (2.fe)</td>
<td>3</td>
<td>Funció creada i funcional</td>
<td>Funció creada però amb errors</td>
<td>No s'ha creat la funció</td>
</tr>
<tr>
<td><strong>Comprovació d'Intents</strong>   (2.eh)</td>
<td>3</td>
<td>Comprovació realitzada correctament</td>
<td>Comprovació amb errors</td>
<td>No s'ha realitzat la comprovació</td>
</tr>
<tr>
<td><strong>Estil CSS</strong>               (2c)</td>
<td>1</td>
<td>CSS aplicat correctament</td>
<td>CSS aplicat però amb errors</td>
<td>No s'ha aplicat el CSS</td>
</tr>
<tr>
<td><strong>Comentaris i Claredat del Codi</strong>  (2ah)</td>
<td>1</td>
<td>Codi ben comentat i clar</td>
<td>Codi amb alguns comentaris</td>
<td>Codi sense comentaris o desordenat</td>
</tr>
</tbody>
</table>
<h4 id="entrega-2">Entrega 2<a class="headerlink" href="#entrega-2" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Manteniment de l'Estat del Joc amb Sessions:</strong></p>
<ul>
<li>Utilitza sessions per a emmagatzemar l'estat actual del joc, incloent la paraula a endevinar, lletres endevinades, i el nombre d'intents restants.</li>
</ul>
</li>
<li>
<p><strong>Gestió de la Sessió del Joc:</strong></p>
<ul>
<li>Afegeix funcionalitats per a reiniciar el joc en qualsevol moment, reinicialitzant les variables de sessió per a començar una nova partida.</li>
<li>Afegeix una opció per a tancar sessió i finalitzar la partida actual.</li>
<li>Afegeix un funció per a saver si el joc ha acabat, ja siga perquè s'han endevinat totes les lletres o s'haguen arribat al màxim número d'intents permesos.</li>
<li>Controla el final del joc</li>
</ul>
</li>
<li>
<p><strong>Cookies per a Recordar Jugadors:</strong></p>
<ul>
<li>Implementa cookies per a recordar els jugadors entre visites, permetent que l'usuari siga recordat si selecciona una opció de "Recordar-me" durant l'inici de sessió.</li>
</ul>
</li>
<li>
<p><strong>Seguretat i Autenticació:</strong></p>
<ul>
<li>Implementa un sistema d'autenticació bàsic per a garantir que només els jugadors autenticats puguen accedir al joc.</li>
<li>Utilitza sessions per a mantenir l'estat d'autenticació i controlar l'accés a les funcionalitats del joc.</li>
</ul>
</li>
</ol>
<h4 id="consideracions-addicionals">Consideracions Addicionals<a class="headerlink" href="#consideracions-addicionals" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Resiliència del Joc:</strong> Implementa la lògica necessària per a manejar intents invàlids i mostrar missatges d'error adequats.</li>
<li><strong>Millores d'Interfície:</strong> Afegix un enllaç o botó per a tancar sessió i una opció per a reiniciar el joc.</li>
</ul>
<table>
<thead>
<tr>
<th>Criteri</th>
<th>Puntuació Total</th>
<th>Complet (2)</th>
<th>Incomplet (1)</th>
<th>Insuficient (0)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Funcionalitat del Joc</strong> (4f)</td>
<td>2</td>
<td>El joc està completament funcional i sense errors.</td>
<td>El joc és funcional, però conté errors significatius.</td>
<td>El joc no és funcional o està incomplet.</td>
</tr>
<tr>
<td><strong>Ús de Sessions</strong>         (4b)</td>
<td>1</td>
<td>Sessions ben implementades per a mantenir l'estat del joc.</td>
<td>Sessions utilitzades, però amb deficiències importants.</td>
<td>No s'han utilitzat sessions o són incorrectes.</td>
</tr>
<tr>
<td><strong>Ús de Cookies</strong>       (4c)</td>
<td>1</td>
<td>Cookies ben utilitzades per a recordar els jugadors.</td>
<td>Cookies utilitzades amb limitacions evidents.</td>
<td>No s'han utilitzat cookies o són incorrectes.</td>
</tr>
<tr>
<td><strong>Autenticació d'Usuaris</strong>   (4de)</td>
<td>3</td>
<td>Autenticació segura i efectiva implementada.</td>
<td>Autenticació present però amb deficiències notables.</td>
<td>No s'ha implementat autenticació o és incorrecta.</td>
</tr>
<tr>
<td><strong>Interfície d'Usuari</strong> (3f)</td>
<td>1</td>
<td>Interfície atractiva i fàcil d'utilitzar.</td>
<td>Interfície funcional però poc intuïtiva.</td>
<td>Interfície confusa i difícil d'utilitzar.</td>
</tr>
<tr>
<td><strong>Punts addicionals</strong>    (4ef)</td>
<td>2</td>
<td>1 punt per cadascúna aconseguida.</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="entrega-3">Entrega 3<a class="headerlink" href="#entrega-3" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Desenvolupar una versió modular i escalable del joc "L'Ofegat" emprant programació orientada a objectes (POO) i gestió de dependències amb Composer</strong>
    -Organitza el projecte de manera clara utilitzant namespaces i Composer (autoload PSR-4):</p>
<p>ofegat-poo/
├── composer.json
├── vendor/
├── app/
│ ├── Joc.php
│ ├── Jugador.php
│ └── GestorPartida.php
├── public/
│ ├── index.php
│ ├── login.php
│ ├── logout.php
│ └── reiniciar.php
├── config/
│ └── paraules.php
├── templates/
│ ├── capçalera.php
│ ├── peu.php
│ └── joc.php
├── style.css</p>
</li>
<li>
<p><strong>Classes</strong></p>
</li>
</ol>
<ul>
<li>
<p><strong>Joc</strong></p>
<ul>
<li>Emmagatzema la paraula a endevinar, intents restants i lletres encertades/error.</li>
<li>Mètodes per comprovar lletres, mostrar estat del joc i saber si ha acabat.</li>
</ul>
</li>
<li>
<p><strong>Jugador</strong></p>
<ul>
<li>Gestió del nom d’usuari (amb cookie si s'ha marcat "recordar").</li>
<li>Control de sessió.</li>
</ul>
</li>
<li>
<p><strong>GestorPartida</strong></p>
<ul>
<li>Inicia, reinicia i manté l'estat del joc en sessió.</li>
<li>Crida els mètodes corresponents de <code>Joc</code> i <code>Jugador</code>.</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>Altres</strong> </li>
</ol>
<ul>
<li>Ús de Composer per a autoload.</li>
<li><code>index.php</code> mostrarà el joc actual.</li>
<li><code>login.php</code> per accedir amb nom d’usuari.</li>
<li><code>reiniciar.php</code> per reiniciar la partida.</li>
<li>
<p><code>logout.php</code> per tancar sessió i esborrar cookies.</p>
</li>
<li>
<p>Crea un fitxer de paraules i utilitza'l per fer que cada vegada s'haja d'endivinar una</p>
</li>
</ul>
<ol start="4">
<li><strong>Extres</strong></li>
</ol>
<ul>
<li>Afegir dibuix d'ofegat (ASCII o imatge) segons el nombre d'errades.</li>
<li>Multijugador amb base de dades.</li>
<li>Guardar puntuacions.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Criteri</strong></th>
<th><strong>Punts</strong></th>
<th><strong>Complet (2)</strong></th>
<th><strong>Incomplet (1)</strong></th>
<th><strong>Insuficient (0)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Funcionament correcte del joc</strong> (3de)</td>
<td>2</td>
<td>El joc és completament funcional i sense errors.</td>
<td>El joc és funcional però amb errors o limitacions notables.</td>
<td>El joc no funciona o està incomplet.</td>
</tr>
<tr>
<td><strong>Ús correcte de POO</strong>    (3af)</td>
<td>2</td>
<td>Classes ben estructurades, encapsulament correcte, ús de mètodes i atributs clars.</td>
<td>S’usen classes però amb estructura poc clara o pràctiques deficients.</td>
<td>No s’aplica orientació a objectes o de manera incorrecta.</td>
</tr>
<tr>
<td><strong>Autoload amb Composer</strong>      (3b)</td>
<td>1</td>
<td>Composer ben configurat i autoload funcional amb PSR-4.</td>
<td>Composer usat però amb problemes o mala configuració.</td>
<td>No s’ha utilitzat Composer o l’autoload no funciona.</td>
</tr>
<tr>
<td><strong>Utilització del fitxer</strong>      (4f)</td>
<td>2</td>
<td>Lectura del fitxer i random de paraules amb funcions o poo</td>
<td>Lectura del fitxer poc funcional o escalable</td>
<td>No s’han implementat o no funciona correctament.</td>
</tr>
<tr>
<td><strong>Extres</strong>                      (4f)</td>
<td>2</td>
<td>Tots els extres implementats</td>
<td>Algun extra implementat</td>
<td>No s'han implementat</td>
</tr>
<tr>
<td><strong>Bon ús del codi i organització</strong> (3f)</td>
<td>1</td>
<td>Codi ben estructurat, clar i fàcil de seguir.</td>
<td>Codi funcional però desorganitzat o poc llegible.</td>
<td>Codi desordenat i difícil de mantenir.</td>
</tr>
</tbody>
</table>
<p><strong>Puntuació màxima total: 10 punts</strong></p>
<h3 id="exercicis-proposats">📝 Exercicis proposats<a class="headerlink" href="#exercicis-proposats" title="Permanent link">&para;</a></h3>
<h4 id="exercici-1-manipulacio-de-variables-i-operadors">Exercici 1: Manipulació de Variables i Operadors<a class="headerlink" href="#exercici-1-manipulacio-de-variables-i-operadors" title="Permanent link">&para;</a></h4>
<p>Assigna múltiples variables i utilitza operadors aritmètics i lògics. Mostra el resultat de cada operació.</p>
<h4 id="exercici-2-control-de-flux-amb-bucles">Exercici 2: Control de Flux amb Bucles<a class="headerlink" href="#exercici-2-control-de-flux-amb-bucles" title="Permanent link">&para;</a></h4>
<p>Utilitza un bucle <code>for</code> per imprimir els números parells del 0 al 20.
Fes-ho també amb un bucle <code>while</code>.</p>
<h4 id="exercici-3-treballar-amb-arrays-i-funcions">Exercici 3: Treballar amb Arrays i Funcions<a class="headerlink" href="#exercici-3-treballar-amb-arrays-i-funcions" title="Permanent link">&para;</a></h4>
<p>Escriu una funció que prenga un array de números, calculi la mitjana i retorni el resultat. Utilitza aquesta funció per imprimir la mitjana d'un array de cinc números.</p>
<h4 id="exercici-4-manipulacio-de-strings">Exercici 4: Manipulació de Strings<a class="headerlink" href="#exercici-4-manipulacio-de-strings" title="Permanent link">&para;</a></h4>
<p>Escriu un script que prenga una cadena de text i compti el nombre de vocals. Imprimeix el resultat.</p>
<h4 id="exercici-5-arrays-multidimensionals">Exercici 5: Arrays Multidimensionals<a class="headerlink" href="#exercici-5-arrays-multidimensionals" title="Permanent link">&para;</a></h4>
<p>Crea un array multidimensional que represente una taula de multiplicar del 1 al 5 i imprimeix els resultats en forma de taula.</p>
<h4 id="exercici-6-utilitzant-match-per-a-categoritzar">Exercici 6: Utilitzant <code>match</code> per a categoritzar<a class="headerlink" href="#exercici-6-utilitzant-match-per-a-categoritzar" title="Permanent link">&para;</a></h4>
<p>Crea un fitxer que utilitze la instrucció <code>match</code> per categoritzar una variable <code>$nota</code> segons el següent criteri:
- Si la nota és 10, imprimir "Excel·lent".
- Si la nota és 8 o 9, imprimir "Molt bé".
- Si la nota és 5, 6 o 7, imprimir "Bé".
- Per qualsevol altra nota, imprimir "Insuficient".</p>
<h4 id="exercici-7-validacio-de-formularis">Exercici 7: Validació de Formularis<a class="headerlink" href="#exercici-7-validacio-de-formularis" title="Permanent link">&para;</a></h4>
<p>Crea un formulari en HTML que permetis als usuaris introduir el seu nom, el correu electrònic i un password (dues vegades). Després de l'enviament del formulari, valida que tots els camps han estat completats i que el correu electrònic és vàlid, que el password tinga complexitat i que coincidixen. Mostra un missatge d'error si alguna validació falla, i si tot és correcte, mostra un missatge confirmant que l'usuari s'ha registrat correctament.</p>
<h4 id="exercici-8-processament-de-formularis-amb-select-i-radio-buttons">Exercici 8: Processament de Formularis amb Select i Radio Buttons<a class="headerlink" href="#exercici-8-processament-de-formularis-amb-select-i-radio-buttons" title="Permanent link">&para;</a></h4>
<p>A partir del formulari <a href="recursos/newBook.php">newBook.php</a>, fes que el mòdul i el estat els agafe de valors introduïts en arrays. Mostra el resultat en una taula.</p>
<h4 id="exercici-9-pujar-imatges-des-de-formulari">Exercici 9: Pujar imatges des de formulari<a class="headerlink" href="#exercici-9-pujar-imatges-des-de-formulari" title="Permanent link">&para;</a></h4>
<p>A partir del formulari anterior fes que es puga pujar una imatge. Mostra la imatge en la taula.</p>
<h4 id="exercici-10-sistema-de-carret-de-compres-sense-base-de-dades">Exercici 10: Sistema de Carret de Compres sense Base de Dades<a class="headerlink" href="#exercici-10-sistema-de-carret-de-compres-sense-base-de-dades" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Descripció:</strong></li>
</ol>
<p>Desenvolupa una aplicació PHP que permeta als usuaris afegir productes a un carret de compres i mostrar el contingut del carret. Utilitza sessions per a mantindre l'estat del carret entre pàgines.</p>
<ol start="2">
<li><strong>Requisits:</strong><ul>
<li>Crear una pàgina on l'usuari puga seleccionar productes.</li>
<li>Afegir els productes seleccionats a un carret emmagatzemat en una sessió.</li>
<li>Mostrar un resum del carret amb els productes afegits i les seues quantitats.</li>
<li>Permetre que l'usuari elimine productes del carret.</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="linenos" data-linenos=" 2 "></span><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;ca&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 3 "></span><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Selecció de productes<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 6 "></span><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 7 "></span><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Afegir productes al carret<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;carret.php&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="10 "></span>        <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;producte&quot;</span><span class="p">&gt;</span>Tria un producte:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="11 "></span>        <span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;producte&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;producte&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="12 "></span>            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Poma&quot;</span><span class="p">&gt;</span>Poma<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="13 "></span>            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Plàtan&quot;</span><span class="p">&gt;</span>Plàtan<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="14 "></span>            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Taronja&quot;</span><span class="p">&gt;</span>Taronja<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="15 "></span>        <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="16 "></span>        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Afegir al carret&quot;</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="17 "></span>    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="18 "></span>    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;carret.php&quot;</span><span class="p">&gt;</span>Veure carret<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="19 "></span><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="linenos" data-linenos="20 "></span><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<h4 id="exercici-11-autenticacio-basica-dusuaris-amb-sessions">Exercici 11: Autenticació Bàsica d'Usuaris amb Sessions<a class="headerlink" href="#exercici-11-autenticacio-basica-dusuaris-amb-sessions" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Descripció:</strong></li>
</ol>
<p>Crea una aplicació PHP que permeta als usuaris iniciar sessió mitjançant un formulari. Utilitza sessions per a mantindre l'estat d'autenticació de l'usuari i mostrar missatges personalitzats basats en aquest estat.</p>
<ol start="2">
<li><strong>Requisits:</strong><ul>
<li>Crear un formulari d'inici de sessió que sol·licite el nom d'usuari i la contrasenya.</li>
<li>Emmagatzemar l'estat d'autenticació en una sessió després de verificar les credencials.</li>
<li>Mostrar una pàgina de benvinguda personalitzada per a l'usuari autenticat.</li>
<li>Proporcionar un enllaç per a tancar sessió i destruir la sessió.</li>
</ul>
</li>
</ol>
<h4 id="exercici-12-recordatori-dusuari-amb-cookies">Exercici 12: Recordatori d'Usuari amb Cookies<a class="headerlink" href="#exercici-12-recordatori-dusuari-amb-cookies" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Descripció:</strong></li>
</ol>
<p>Afig una funcionalitat de "recordar-me" a l'exercici anterior que emmagatzeme el nom d'usuari en una cookie i permeta a l'usuari ser recordat en futures visites al lloc web.</p>
<ol start="2">
<li><strong>Requisits:</strong><ul>
<li>Afig una opció de "recordar-me" al formulari d'inici de sessió.</li>
<li>Emmagatzemar el nom d'usuari en una cookie quan l'opció és seleccionada.</li>
<li>Comprovar la cookie en futures visites i iniciar sessió automàticament si la cookie existeix.</li>
<li>Assegurar que les cookies es configuren amb atributs de seguretat adequats (<code>HttpOnly</code>, <code>Secure</code>, <code>SameSite</code>).</li>
</ul>
</li>
</ol>
<h4 id="exercici-13-formulari-de-contacte-amb-proteccio-csrf">Exercici 13: Formulari de Contacte amb Protecció CSRF<a class="headerlink" href="#exercici-13-formulari-de-contacte-amb-proteccio-csrf" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Descripció:</strong></li>
</ol>
<p>Desenvolupa un formulari de contacte que permeta als usuaris enviar missatges i implementa protecció CSRF per a assegurar que les sol·licituds siguen legítimes.</p>
<ol start="2">
<li><strong>Requisits:</strong><ul>
<li>Crear un formulari de contacte amb camps per al nom, correu electrònic i missatge.</li>
<li>Generar i emmagatzemar un token CSRF en una sessió quan es carrega el formulari.</li>
<li>Incloure el token CSRF com a camp ocult en el formulari.</li>
<li>Verificar el token CSRF quan s'envia el formulari i mostrar un missatge de confirmació si és vàlid.</li>
<li>Mostrar un missatge d'error si el token CSRF no és vàlid o no existeix.</li>
</ul>
</li>
</ol>
<h4 id="exercici-14-seguiment-dactivitat-de-lusuari-amb-sessions">Exercici 14: Seguiment d'Activitat de l'Usuari amb Sessions<a class="headerlink" href="#exercici-14-seguiment-dactivitat-de-lusuari-amb-sessions" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Descripció:</strong></li>
</ol>
<p>Crea un sistema que registre les pàgines visitades per l'usuari durant una sessió i mostre aquesta informació quan l'usuari visita una pàgina d'activitat.</p>
<ol start="2">
<li><strong>Requisits:</strong><ul>
<li>Emmagatzemar una llista de pàgines visitades per l'usuari en una sessió.</li>
<li>Actualitzar la llista de pàgines cada vegada que l'usuari visite una nova pàgina.</li>
<li>Crear una pàgina que mostre l'historial de pàgines visitades durant la sessió actual.</li>
<li>Assegurar que l'historial es restableix quan l'usuari tanca la sessió.</li>
</ul>
</li>
</ol>
<h4 id="exercici-15-creacio-de-la-classe-basica-i-gestio-de-propietats">Exercici 15. Creació de la Classe Bàsica i Gestió de Propietats<a class="headerlink" href="#exercici-15-creacio-de-la-classe-basica-i-gestio-de-propietats" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Crea una classe <code>Persona</code> amb les propietats privades <code>nom</code>, <code>cognoms</code>, i <code>edat</code>. Encapsula aquestes propietats mitjançant getters i setters. Afig els següents mètodes:</p>
<ul>
<li><code>getNomComplet(): string</code> – Retorna el nom complet de la persona.</li>
<li><code>estaJubilat(): bool</code> – Retorna <code>true</code> si l'edat és major o igual a 65, <code>false</code> en cas contrari.</li>
</ul>
</li>
<li>
<p>Modifica la classe <code>Persona</code> afegint un constructor que assigna nom i cognoms. Si es proporciona un tercer paràmetre, assigna l'edat; en cas contrari, assigna una edat per defecte de 25 anys.</p>
</li>
<li>
<p>Modifica la classe <code>Persona</code> per utilitzar una constant <code>LIMITE_EDAT</code> amb el valor de 66 anys i utilitza-la en el mètode <code>estaJubilat</code>.</p>
</li>
</ul>
<h4 id="exercici-16-herencia-i-polimorfisme">Exercici 16. Herència i Polimorfisme<a class="headerlink" href="#exercici-16-herencia-i-polimorfisme" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Crea una classe <code>Empleado</code> que herete de <code>Persona</code>. Afig les següents propietats i mètodes:</p>
<ul>
<li><code>private float $sou</code></li>
<li><code>private array $telefons</code></li>
<li><code>anyadirTelefono(int $telefon): void</code> – Afig un número de telèfon a l'array.</li>
<li><code>listarTelefonos(): string</code> – Retorna els números de telèfon separats per comes.</li>
<li><code>vaciarTelefonos(): void</code> – Buida l'array de telèfons.</li>
<li><code>debePagarImpuestos(): bool</code> – Retorna <code>true</code> si el sou és superior a 3333€, <code>false</code> en cas contrari.</li>
</ul>
</li>
<li>
<p>Afig un mètode estàtic <code>toHtml(Empleado $emp): string</code> que genere un codi HTML que mostre el nom complet de l'empleat dins d'un paràgraf i els seus telèfons dins d'una llista ordenada.</p>
</li>
<li>Afig un mètode estàtic <code>toHtml(Persona $p)</code> a la classe Persona que mostre el nom complet de la persona dins d'un paràgraf. Modifica el mètode <code>toHtml</code> de <code>Empleado</code> per rebre una <code>Persona</code> com a paràmetre i comprovar si es tracta d'un <code>Empleado</code> amb <code>instanceof</code>.</li>
<li>Transforma <code>Persona</code> en una classe abstracta. Redefineix el mètode estàtic <code>toHtml(Persona $p)</code> en totes les seues subclasses.</li>
</ul>
<h4 id="exercici-17-integracio-despais-de-noms-autoloading-i-composer">Exercici 17. Integració d'Espais de Noms, Autoloading, i Composer<a class="headerlink" href="#exercici-17-integracio-despais-de-noms-autoloading-i-composer" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Crea una classe <code>Empresa</code> que incloga una propietat amb un array de <code>Empleados</code> . Implementa:</p>
<ul>
<li><code>public function addWorker(Empleado $t)</code></li>
<li><code>public function listWorkersHtml(): string</code> – Genera la llista de treballadors en format HTML.</li>
<li><code>public function getCosteNominas(): float</code> – Calcula el cost total de les nòmines.</li>
</ul>
</li>
<li>
<p>Configura el projecte PHP amb Composer que utilitze l'autoloading PSR-4.</p>
</li>
</ul>
<h4 id="exercici-18-logger">Exercici 18. Logger<a class="headerlink" href="#exercici-18-logger" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Utilitza la llibreria <code>Monolog</code> per configurar un logger que escriga missatges a un fitxer <code>app.log</code>. Afig funcionalitat perquè el logger registre missatges d'informació i d'error en diferents arxius segons la gravetat.</p>
</li>
<li>
<p>Configura un logger que escriga missatges de registre tant a un fitxer com a la consola. Prova el logger registrant missatges d'error i advertència.</p>
</li>
</ul>
<h4 id="exercici-19-generacio-de-pdfs-amb-dompdf">Exercici 19. Generació de PDFs amb DomPDF<a class="headerlink" href="#exercici-19-generacio-de-pdfs-amb-dompdf" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Instal·la la llibreria <code>dompdf/dompdf</code> amb Composer. Crea un script PHP que genere un PDF senzill amb un títol i un paràgraf de text.</p>
</li>
<li>
<p>Crea un PDF utilitzant DomPDF que incloga una taula amb dades i una imatge. Assegura't que el PDF es renderitze correctament i que la imatge s'incloga en el document.</p>
</li>
<li>
<p>Utilitzant la classe <code>Empresa</code> i <code>Empleado</code>, genera un informe en PDF amb la llista de treballadors i el seu sou. Utilitza DomPDF per generar aquest informe.</p>
</li>
</ul>
<h4 id="solucions"><a href="10solucions.html">Solucions</a><a class="headerlink" href="#solucions" title="Permanent link">&para;</a></h4>
<h3 id="autoavaluacio">✅ Autoavaluació<a class="headerlink" href="#autoavaluacio" title="Permanent link">&para;</a></h3>
<h4 id="exercici-1-sintaxi-basica-de-php">Exercici 1: Sintaxi Bàsica de PHP<a class="headerlink" href="#exercici-1-sintaxi-basica-de-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta">Pregunta:<a class="headerlink" href="#pregunta" title="Permanent link">&para;</a></h5>
<p>Quina és la manera correcta d'iniciar i finalitzar un bloc de codi PHP dins d'un fitxer HTML?</p>
<h5 id="opcions">Opcions:<a class="headerlink" href="#opcions" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q1a" name="question1" value="a">
  <label for="q1a">a) `<?php ... ?>`</label><br>
  <input type="radio" id="q1b" name="question1" value="b">
  <label for="q1b">b) `<php> ... </php>`</label><br>
  <input type="radio" id="q1c" name="question1" value="c">
  <label for="q1c">c) `<?php ?> ... <?php end ?>`</label><br>
  <input type="radio" id="q1d" name="question1" value="d">
  <label for="q1d">d) `<script php> ... </script>`</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer1()">
</form>

<p id="result1"></p>

<script>
function checkAnswer1() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question1');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) <?php ... ?>.";
    document.getElementById('result1').innerText = resultText;
}
</script>

<h4 id="exercici-2-variables-i-tipus-de-dades">Exercici 2: Variables i Tipus de Dades<a class="headerlink" href="#exercici-2-variables-i-tipus-de-dades" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_1">Pregunta:<a class="headerlink" href="#pregunta_1" title="Permanent link">&para;</a></h5>
<p>Quina opció mostra el tipus de dades assignat a la variable <code>$nom</code>?</p>
<h5 id="opcions_1">Opcions:<a class="headerlink" href="#opcions_1" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q2a" name="question2" value="a">
  <label for="q2a">a) `echo gettype($nom);`</label><br>
  <input type="radio" id="q2b" name="question2" value="b">
  <label for="q2b">b) `print datatype($nom);`</label><br>
  <input type="radio" id="q2c" name="question2" value="c">
  <label for="q2c">c) `echo typeof($nom);`</label><br>
  <input type="radio" id="q2d" name="question2" value="d">
  <label for="q2d">d) `print type($nom);`</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer2()">
</form>

<p id="result2"></p>

<script>
function checkAnswer2() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question2');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) echo gettype($nom);";
    document.getElementById('result2').innerText = resultText;
}
</script>

<h4 id="exercici-3-estructures-de-control">Exercici 3: Estructures de Control<a class="headerlink" href="#exercici-3-estructures-de-control" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_2">Pregunta:<a class="headerlink" href="#pregunta_2" title="Permanent link">&para;</a></h5>
<p>Quina és la sortida de l'estructura de control següent?
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$numero = 10;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">if ($numero &gt; 5) {</span>
<span class="linenos" data-linenos="3 "></span><span class="x">    echo &quot;Major que 5&quot;;</span>
<span class="linenos" data-linenos="4 "></span><span class="x">} else {</span>
<span class="linenos" data-linenos="5 "></span><span class="x">    echo &quot;Menor o igual a 5&quot;;</span>
<span class="linenos" data-linenos="6 "></span><span class="x">}</span>
</code></pre></div></p>
<h5 id="opcions_2">Opcions<a class="headerlink" href="#opcions_2" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q3a" name="question3" value="a">
  <label for="q3a">a) Major que 5</label><br>
  <input type="radio" id="q3b" name="question3" value="b">
  <label for="q3b">b) Menor o igual a 5</label><br>
  <input type="radio" id="q3c" name="question3" value="c">
  <label for="q3c">c) No imprimeix res</label><br>
  <input type="radio" id="q3d" name="question3" value="d">
  <label for="q3d">d) Error de sintaxi</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer3()">
</form>
<p id="result3"></p>
<script>
function checkAnswer3() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question3');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) Major que 5.";
    document.getElementById('result3').innerText = resultText;
}
</script>

<h4 id="exercici-4-operadors-en-php">Exercici 4: Operadors en PHP<a class="headerlink" href="#exercici-4-operadors-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_3">Pregunta:<a class="headerlink" href="#pregunta_3" title="Permanent link">&para;</a></h5>
<p>Quin serà el valor de <code>$resultat</code> després d'executar el següent codi?
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$resultat = 5 + 2 * 3;</span>
</code></pre></div></p>
<h5 id="opcions_3">Opcions:<a class="headerlink" href="#opcions_3" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q4a" name="question4" value="a">
  <label for="q4a">a) 21</label><br>
  <input type="radio" id="q4b" name="question4" value="b">
  <label for="q4b">b) 11</label><br>
  <input type="radio" id="q4c" name="question4" value="c">
  <label for="q4c">c) 17</label><br>
  <input type="radio" id="q4d" name="question4" value="d">
  <label for="q4d">d) 13</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer4()">
</form>
<p id="result4"></p>
<script>
function checkAnswer4() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question4');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) 11.";
    document.getElementById('result4').innerText = resultText;
}
</script>

<h4 id="exercici-5-arrays-en-php">Exercici 5: Arrays en PHP<a class="headerlink" href="#exercici-5-arrays-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_4">Pregunta:<a class="headerlink" href="#pregunta_4" title="Permanent link">&para;</a></h5>
<p>Com es pot afegir un element al final d'un array en PHP?</p>
<h5 id="opcions_4">Opcions:<a class="headerlink" href="#opcions_4" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q5a" name="question5" value="a">
  <label for="q5a">a) array_add($array, $element);</label><br>
  <input type="radio" id="q5b" name="question5" value="b">
  <label for="q5b">b) $array[] = $element;</label><br>
  <input type="radio" id="q5c" name="question5" value="c">
  <label for="q5c">c) append($array, $element);</label><br>
  <input type="radio" id="q5d" name="question5" value="d">
  <label for="q5d">d) add_to_array($array, $element);</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer5()">
</form>
<p id="result5"></p>
<script>
function checkAnswer5() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question5');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) $array[] = $element;";
    document.getElementById('result5').innerText = resultText;
}
</script>

<h4 id="exercici-6-funcions-en-php">Exercici 6: Funcions en PHP<a class="headerlink" href="#exercici-6-funcions-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_5">Pregunta:<a class="headerlink" href="#pregunta_5" title="Permanent link">&para;</a></h5>
<p>Com es defineix una funció en PHP?</p>
<h5 id="opcions_5">Opcions:<a class="headerlink" href="#opcions_5" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q6a" name="question6" value="a">
  <label for="q6a">a) function: myFunction() { ... }</label><br>
  <input type="radio" id="q6b" name="question6" value="b">
  <label for="q6b">b) def myFunction() { ... }</label><br>
  <input type="radio" id="q6c" name="question6" value="c">
  <label for="q6c">c) function myFunction() { ... }</label><br>
  <input type="radio" id="q6d" name="question6" value="d">
  <label for="q6d">d) fn myFunction() => { ... }</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer6()">
</form>
<p id="result6"></p>
<script>
function checkAnswer6() {
    var correctAnswer = "c";
    var radios = document.getElementsByName('question6');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és c) function myFunction() { ... }";
    document.getElementById('result6').innerText = resultText;
}
</script>

<h4 id="exercici-7-instruccio-switch">Exercici 7: Instrucció switch<a class="headerlink" href="#exercici-7-instruccio-switch" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_6">Pregunta:<a class="headerlink" href="#pregunta_6" title="Permanent link">&para;</a></h5>
<p>Quina instrucció s'utilitza per detenir l'execució d'un cas dins d'un switch en PHP?</p>
<h5 id="opcions_6">Opcions:<a class="headerlink" href="#opcions_6" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q7a" name="question7" value="a">
  <label for="q7a">a) stop</label><br>
  <input type="radio" id="q7b" name="question7" value="b">
  <label for="q7b">b) exit</label><br>
  <input type="radio" id="q7c" name="question7" value="c">
  <label for="q7c">c) halt</label><br>
  <input type="radio" id="q7d" name="question7" value="d">
  <label for="q7d">d) break</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer7()">
</form>
<p id="result7"></p>
<script>
function checkAnswer7() {
    var correctAnswer = "d";
    var radios = document.getElementsByName('question7');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és d) break.";
    document.getElementById('result7').innerText = resultText;
}
</script>

<h4 id="exercici-8-funcions-de-les-cookies">Exercici 8: Funcions de les Cookies<a class="headerlink" href="#exercici-8-funcions-de-les-cookies" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_7">Pregunta:<a class="headerlink" href="#pregunta_7" title="Permanent link">&para;</a></h5>
<p>Quina és la funció principal de les cookies en el context del desenvolupament web?</p>
<h5 id="opcions_7">Opcions:<a class="headerlink" href="#opcions_7" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q1a" name="question1" value="a">
  <label for="q1a">a) Guardar els fitxers de l'usuari al servidor.</label><br>
  <input type="radio" id="q1b" name="question1" value="b">
  <label for="q1b">b) Emmagatzemar informació del client per personalitzar l'experiència d'usuari.</label><br>
  <input type="radio" id="q1c" name="question1" value="c">
  <label for="q1c">c) Executar codi al servidor.</label><br>
  <input type="radio" id="q1d" name="question1" value="d">
  <label for="q1d">d) Controlar la velocitat de la connexió a Internet.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer1()">
</form>

<p id="result1"></p>

<script>
function checkAnswer1() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question1');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) Emmagatzemar informació del client per personalitzar l'experiència d'usuari.";
    document.getElementById('result1').innerText = resultText;
}
</script>

<h4 id="exercici-9-seguretat-de-les-cookies">Exercici 9: Seguretat de les Cookies<a class="headerlink" href="#exercici-9-seguretat-de-les-cookies" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_8">Pregunta:<a class="headerlink" href="#pregunta_8" title="Permanent link">&para;</a></h5>
<p>Quins atributs de seguretat haurien de tindre les cookies per protegir-les contra atacs?</p>
<h5 id="opcions_8">Opcions:<a class="headerlink" href="#opcions_8" title="Permanent link">&para;</a></h5>
<form>
  <input type="checkbox" id="q2a" name="question2" value="a">
  <label for="q2a">a) Secure</label><br>
  <input type="checkbox" id="q2b" name="question2" value="b">
  <label for="q2b">b) HttpOnly</label><br>
  <input type="checkbox" id="q2c" name="question2" value="c">
  <label for="q2c">c) SameSite</label><br>
  <input type="checkbox" id="q2d" name="question2" value="d">
  <label for="q2d">d) CrossSite</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer2()">
</form>

<p id="result2"></p>

<script>
function checkAnswer2() {
    var correctAnswers = ["a", "b", "c"];
    var checkboxes = document.getElementsByName('question2');
    var userAnswers = [];
    for (var i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].checked) {
            userAnswers.push(checkboxes[i].value);
        }
    }
    userAnswers.sort();
    var resultText = (JSON.stringify(userAnswers) === JSON.stringify(correctAnswers))
        ? "Correcte!"
        : "Incorrecte. Les respostes correctes són a) Secure, b) HttpOnly, c) SameSite.";
    document.getElementById('result2').innerText = resultText;
}
</script>

<h4 id="exercici-10-creacio-de-sessions-en-php">Exercici 10: Creació de Sessions en PHP<a class="headerlink" href="#exercici-10-creacio-de-sessions-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_9">Pregunta:<a class="headerlink" href="#pregunta_9" title="Permanent link">&para;</a></h5>
<p>Quin dels següents passos és necessari per iniciar una sessió en PHP?</p>
<h5 id="opcions_9">Opcions:<a class="headerlink" href="#opcions_9" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q3a" name="question3" value="a">
  <label for="q3a">a) Cridar a la funció session_start().</label><br>
  <input type="radio" id="q3b" name="question3" value="b">
  <label for="q3b">b) Utilitzar la funció session_open().</label><br>
  <input type="radio" id="q3c" name="question3" value="c">
  <label for="q3c">c) Assignar un valor a la variable $_SESSION.</label><br>
  <input type="radio" id="q3d" name="question3" value="d">
  <label for="q3d">d) No es necessita cap funció especial.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer3()">
</form>

<p id="result3"></p>

<script>
function checkAnswer3() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question3');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) Cridar a la funció session_start().";
    document.getElementById('result3').innerText = resultText;
}
</script>

<h4 id="exercici-11-manteniment-dinformacio-en-sessions">Exercici 11: Manteniment d'Informació en Sessions<a class="headerlink" href="#exercici-11-manteniment-dinformacio-en-sessions" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_10">Pregunta:<a class="headerlink" href="#pregunta_10" title="Permanent link">&para;</a></h5>
<p>Com es pot mantindre la informació d'un usuari durant la sessió d'una aplicació web?</p>
<h5 id="opcions_10">Opcions:<a class="headerlink" href="#opcions_10" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q4a" name="question4" value="a">
  <label for="q4a">a) Utilitzant la variable global $GLOBALS.</label><br>
  <input type="radio" id="q4b" name="question4" value="b">
  <label for="q4b">b) Utilitzant la variable $_SESSION.</label><br>
  <input type="radio" id="q4c" name="question4" value="c">
  <label for="q4c">c) Utilitzant la variable $_COOKIE.</label><br>
  <input type="radio" id="q4d" name="question4" value="d">
  <label for="q4d">d) Utilitzant arxius temporals al servidor.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer4()">
</form>

<p id="result4"></p>

<script>
function checkAnswer4() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question4');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) Utilitzant la variable $_SESSION.";
    document.getElementById('result4').innerText = resultText;
}
</script>

<h4 id="exercici-12-funcions-de-php-per-a-sessions">Exercici 12: Funcions de PHP per a Sessions<a class="headerlink" href="#exercici-12-funcions-de-php-per-a-sessions" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_11">Pregunta:<a class="headerlink" href="#pregunta_11" title="Permanent link">&para;</a></h5>
<p>Quina funció de PHP es fa servir per destruir una sessió?</p>
<h5 id="opcions_11">Opcions:<a class="headerlink" href="#opcions_11" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q5a" name="question5" value="a">
  <label for="q5a">a) session_destroy()</label><br>
  <input type="radio" id="q5b" name="question5" value="b">
  <label for="q5b">b) session_unset()</label><br>
  <input type="radio" id="q5c" name="question5" value="c">
  <label for="q5c">c) session_delete()</label><br>
  <input type="radio" id="q5d" name="question5" value="d">
  <label for="q5d">d) session_end()</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer5()">
</form>

<p id="result5"></p>

<script>
function checkAnswer5() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question5');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) session_destroy().";
    document.getElementById('result5').innerText = resultText;
}
</script>

<h4 id="exercici-13-avantatges-de-les-sessions">Exercici 13: Avantatges de les Sessions<a class="headerlink" href="#exercici-13-avantatges-de-les-sessions" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_12">Pregunta:<a class="headerlink" href="#pregunta_12" title="Permanent link">&para;</a></h5>
<p>Quins són els avantatges d'utilitzar sessions en lloc de cookies per a mantenir l'estat de l'usuari?</p>
<h5 id="opcions_12">Opcions:<a class="headerlink" href="#opcions_12" title="Permanent link">&para;</a></h5>
<form>
  <input type="checkbox" id="q6a" name="question6" value="a">
  <label for="q6a">a) Les sessions poden emmagatzemar més informació perquè es guarden al servidor.</label><br>
  <input type="checkbox" id="q6b" name="question6" value="b">
  <label for="q6b">b) Les sessions són més segures perquè no s'envien al client.</label><br>
  <input type="checkbox" id="q6c" name="question6" value="c">
  <label for="q6c">c) Les sessions redueixen la càrrega del servidor.</label><br>
  <input type="checkbox" id="q6d" name="question6" value="d">
  <label for="q6d">d) Les sessions no necessiten ser configurades amb atributs de seguretat.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer6()">
</form>

<p id="result6"></p>

<script>
function checkAnswer6() {
    var correctAnswers = ["a", "b"];
    var checkboxes = document.getElementsByName('question6');
    var userAnswers = [];
    for (var i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].checked) {
            userAnswers.push(checkboxes[i].value);
        }
    }
    userAnswers.sort();
    var resultText = (JSON.stringify(userAnswers) === JSON.stringify(correctAnswers))
        ? "Correcte!"
        : "Incorrecte. Les respostes correctes són a) Les sessions poden emmagatzemar més informació perquè es guarden al servidor, b) Les sessions són més segures perquè no s'envien al client.";
    document.getElementById('result6').innerText = resultText;
}
</script>

<h4 id="exercici-14-autenticacio-dusuaris">Exercici 14: Autenticació d'Usuaris<a class="headerlink" href="#exercici-14-autenticacio-dusuaris" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_13">Pregunta:<a class="headerlink" href="#pregunta_13" title="Permanent link">&para;</a></h5>
<p>Quina és la pràctica recomanada per assegurar la identitat d'un usuari en una aplicació web?</p>
<h5 id="opcions_13">Opcions:<a class="headerlink" href="#opcions_13" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q7a" name="question7" value="a">
  <label for="q7a">a) Utilitzar noms d'usuari i contrasenyes emmagatzemades com a cookies.</label><br>
  <input type="radio" id="q7b" name="question7" value="b">
  <label for="q7b">b) Utilitzar sessions per mantenir l'estat d'autenticació després d'iniciar sessió.</label><br>
  <input type="radio" id="q7c" name="question7" value="c">
  <label for="q7c">c) Emmagatzemar la contrasenya de l'usuari a la URL.</label><br>
  <input type="radio" id="q7d" name="question7" value="d">
  <label for="q7d">d) No utilitzar cap forma d'autenticació.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer7()">
</form>

<p id="result7"></p>

<script>
function checkAnswer7() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question7');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) Utilitzar sessions per mantenir l'estat d'autenticació després d'iniciar sessió.";
    document.getElementById('result7').innerText = resultText;
}
</script>

<h4 id="exercici-15-constructors-en-php">Exercici 15: Constructors en PHP<a class="headerlink" href="#exercici-15-constructors-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_14">Pregunta:<a class="headerlink" href="#pregunta_14" title="Permanent link">&para;</a></h5>
<p>Quina és la funció principal d'un constructor en una classe PHP?</p>
<h5 id="opcions_14">Opcions:<a class="headerlink" href="#opcions_14" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q1a" name="question1" value="a">
  <label for="q1a">a) Destruir els objectes de la classe quan ja no són necessaris.</label><br>
  <input type="radio" id="q1b" name="question1" value="b">
  <label for="q1b">b) Inicialitzar les propietats de l'objecte quan es crea.</label><br>
  <input type="radio" id="q1c" name="question1" value="c">
  <label for="q1c">c) Executar una funció arbitrària abans de cada mètode.</label><br>
  <input type="radio" id="q1d" name="question1" value="d">
  <label for="q1d">d) Crear mètodes màgics automàticament.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer1()">
</form>

<p id="result1"></p>

<script>
function checkAnswer1() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question1');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) Inicialitzar les propietats de l'objecte quan es crea.";
    document.getElementById('result1').innerText = resultText;
}
</script>

<h4 id="exercici-16-herencia-en-php">Exercici 16: Herència en PHP<a class="headerlink" href="#exercici-16-herencia-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_15">Pregunta:<a class="headerlink" href="#pregunta_15" title="Permanent link">&para;</a></h5>
<p>Quina és l'avantatge principal de l'herència en la programació orientada a objectes?</p>
<h5 id="opcions_15">Opcions:<a class="headerlink" href="#opcions_15" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q2a" name="question2" value="a">
  <label for="q2a">a) Permet reutilitzar codi definint classes noves basades en classes existents.</label><br>
  <input type="radio" id="q2b" name="question2" value="b">
  <label for="q2b">b) Permet ocultar totes les propietats i mètodes de la classe.</label><br>
  <input type="radio" id="q2c" name="question2" value="c">
  <label for="q2c">c) Permet definir funcions globals sense necessitat de classes.</label><br>
  <input type="radio" id="q2d" name="question2" value="d">
  <label for="q2d">d) Permet cridar a funcions de JavaScript des de PHP.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer2()">
</form>

<p id="result2"></p>

<script>
function checkAnswer2() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question2');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) Permet reutilitzar codi definint classes noves basades en classes existents.";
    document.getElementById('result2').innerText = resultText;
}
</script>

<h4 id="exercici-17-polimorfisme">Exercici 17: Polimorfisme<a class="headerlink" href="#exercici-17-polimorfisme" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_16">Pregunta:<a class="headerlink" href="#pregunta_16" title="Permanent link">&para;</a></h5>
<p>Què permet el polimorfisme en el context de la POO?</p>
<h5 id="opcions_16">Opcions:<a class="headerlink" href="#opcions_16" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q3a" name="question3" value="a">
  <label for="q3a">a) Permet que una funció tinga múltiples implementacions depenent de l'objecte que la cride.</label><br>
  <input type="radio" id="q3b" name="question3" value="b">
  <label for="q3b">b) Permet la creació d'objectes a partir de funcions anònimes.</label><br>
  <input type="radio" id="q3c" name="question3" value="c">
  <label for="q3c">c) Permet la connexió entre PHP i bases de dades relacionals.</label><br>
  <input type="radio" id="q3d" name="question3" value="d">
  <label for="q3d">d) Permet executar múltiples scripts PHP alhora.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer3()">
</form>

<p id="result3"></p>

<script>
function checkAnswer3() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question3');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) Permet que una funció tinga múltiples implementacions depenent de l'objecte que la cride.";
    document.getElementById('result3').innerText = resultText;
}
</script>

<h4 id="exercici-18-espais-de-noms">Exercici 18: Espais de Noms<a class="headerlink" href="#exercici-18-espais-de-noms" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_17">Pregunta:<a class="headerlink" href="#pregunta_17" title="Permanent link">&para;</a></h5>
<p>Per a què s'utilitzen els espais de noms (namespaces) en PHP?</p>
<h5 id="opcions_17">Opcions:<a class="headerlink" href="#opcions_17" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q4a" name="question4" value="a">
  <label for="q4a">a) Per executar codi PHP de forma asincrònica.</label><br>
  <input type="radio" id="q4b" name="question4" value="b">
  <label for="q4b">b) Per evitar conflictes entre noms de classes, funcions o constants en diferents parts del codi.</label><br>
  <input type="radio" id="q4c" name="question4" value="c">
  <label for="q4c">c) Per definir variables globals accessibles des de qualsevol punt del codi.</label><br>
  <input type="radio" id="q4d" name="question4" value="d">
  <label for="q4d">d) Per importar codi d'altres llenguatges de programació com JavaScript.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer4()">
</form>

<p id="result4"></p>

<script>
function checkAnswer4() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question4');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) Per evitar conflictes entre noms de classes, funcions o constants en diferents parts del codi.";
    document.getElementById('result4').innerText = resultText;
}
</script>

<h4 id="exercici-19-excepcions-en-php">Exercici 19: Excepcions en PHP<a class="headerlink" href="#exercici-19-excepcions-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_18">Pregunta:<a class="headerlink" href="#pregunta_18" title="Permanent link">&para;</a></h5>
<p>Quina és la finalitat d'utilitzar excepcions en PHP?</p>
<h5 id="opcions_18">Opcions:<a class="headerlink" href="#opcions_18" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q6a" name="question6" value="a">
  <label for="q6a">a) Evitar l'execució de codi mal format.</label><br>
  <input type="radio" id="q6b" name="question6" value="b">
  <label for="q6b">b) Gestionar errors i condicions excepcionals de manera controlada dins d'una aplicació.</label><br>
  <input type="radio" id="q6c" name="question6" value="c">
  <label for="q6c">c) Declarar funcions dins d'una classe.</label><br>
  <input type="radio" id="q6d" name="question6" value="d">
  <label for="q6d">d) Garantir que totes les variables estiguen inicialitzades abans del seu ús.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer6()">
</form>

<p id="result6"></p>

<script>
function checkAnswer6() {
    var correctAnswer = "b";
    var radios = document.getElementsByName('question6');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és b) Gestionar errors i condicions excepcionals de manera controlada dins d'una aplicació.";
    document.getElementById('result6').innerText = resultText;
}
</script>

<h4 id="exercici-20-autoloading-en-php">Exercici 20: Autoloading en PHP<a class="headerlink" href="#exercici-20-autoloading-en-php" title="Permanent link">&para;</a></h4>
<h5 id="pregunta_19">Pregunta:<a class="headerlink" href="#pregunta_19" title="Permanent link">&para;</a></h5>
<p>Quin avantatge ofereix l'autoloading en PHP?</p>
<h5 id="opcions_19">Opcions:<a class="headerlink" href="#opcions_19" title="Permanent link">&para;</a></h5>
<form>
  <input type="radio" id="q7a" name="question7" value="a">
  <label for="q7a">a) Permet que les classes es carreguen automàticament quan s'utilitzen, sense necessitat de fer incloure manualment cada fitxer.</label><br>
  <input type="radio" id="q7b" name="question7" value="b">
  <label for="q7b">b) Permet l'execució de múltiples scripts alhora.</label><br>
  <input type="radio" id="q7c" name="question7" value="c">
  <label for="q7c">c) Permet la manipulació de fitxers en el servidor.</label><br>
  <input type="radio" id="q7d" name="question7" value="d">
  <label for="q7d">d) Permet la connexió amb bases de dades.</label><br><br>
  <input type="button" value="Comprovar" onclick="checkAnswer7()">
</form>

<p id="result7"></p>

<script>
function checkAnswer7() {
    var correctAnswer = "a";
    var radios = document.getElementsByName('question7');
    var userAnswer;
    for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
            userAnswer = radios[i].value;
            break;
        }
    }
    var resultText = userAnswer === correctAnswer ? "Correcte!" : "Incorrecte. La resposta correcta és a) Permet que les classes es carreguen automàticament quan s'utilitzen, sense necessitat de fer incloure manualment cada fitxer.";
    document.getElementById('result7').innerText = resultText;
}
</script>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2021-2026 Aitor Medrano, Luis Alemañ, Ignasi Gomis - Licencia CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/aitormedrano" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.2 4.2 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.52 8.52 0 0 1-5.33 1.84q-.51 0-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<a.medrano@edu.gva.es>" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 12.13c-.15.01-.29.06-.39.17l-1 1 2.05 2 1-1c.22-.21.22-.56 0-.77l-1.24-1.23a.56.56 0 0 0-.38-.17m-2 1.75L13 19.94V22h2.06l6.06-6.07M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7v-.89l8.24-8.22c.47-.49 1.12-.76 1.8-.76.34 0 .68.06 1 .19V6c0-1.12-.92-2-2.04-2m0 4-8 5-8-5V6l8 5 8-5"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["header.autohide", "toc.integrate", "content.tabs.link"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>